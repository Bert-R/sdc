<?xml version="1.0" encoding="UTF-8"?>
<!-- Disclaimer: This questionnaire example is not derived from any medical questionnaire.  It contains unrelated questions and it is only created to show how the 
elements or extensions defined in the advanced form behavior profile are intended to be used. -->
<Questionnaire xmlns="http://hl7.org/fhir">
  <id value="questionnaire-sdc-profile-example-form-behavior"/>
  <!-- TODO: Temporarily disabled meta.profile since validation is failing with nested items.
  Exception in thread "main" org.hl7.fhir.exceptions.DefinitionException: Unable to resolve name reference http://hl7.org/fhir/StructureDefinition/Questionnaire#Questionnaire.item at path Questionnaire.item.item
  <meta>
    <profile value="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-behave"/>
  </meta>
  -->
  <url value="http://build.fhir.org/ig/HL7/sdc/questionnaire-sdc-profile-example-render"/>
  <name value="SDCAdvancedRenderingExample"/>
  <status value="draft"/>

  <item>
    <linkId value="1"/>
    <text value="Value constraints"/>
    <type value="group"/>

    <!-- maxLength: Example to restrict an answer to only have 50 characters.-->
    <item>
      <linkId value="1.1"/>
      <text value="First Name"/>
      <type value="string"/>
      <maxLength value="50"/>
    </item>

    <!-- minLength: Example to restrict an answer to have at least 2 characters.-->
    <item>
      <extension url="http://hl7.org/fhir/StructureDefinition/minLength">
        <valueInteger value="2"/>
      </extension>
      <linkId value="1.2"/>
      <text value="Last Name"/>
      <type value="string"/>
    </item>

    <!-- regex: Example to restrict an answer to be in this format: A1A 1A1-->
    <item>
      <extension url="http://hl7.org/fhir/StructureDefinition/regex">
        <valueString value="[A-Z][0-9][A-Z] [0-9][A-Z][0-9]" />
      </extension>
      <linkId value="1.3"/>
      <text value="Postal Code (A1A 1A1)"/>
      <type value="string"/>
    </item>

    <!-- minValue, maxValue, and maxDecimalPlaces: Example to restrict an answer to range from 1 to 100, up to 2 decimal places.-->
    <item>
      <extension url="http://hl7.org/fhir/StructureDefinition/minValue">
        <valueDecimal value="1"/>
      </extension>
      <extension url="http://hl7.org/fhir/StructureDefinition/maxValue">
        <valueDecimal value="100"/>
      </extension>
      <extension url="http://hl7.org/fhir/StructureDefinition/maxDecimalPlaces">
        <valueInteger value="2"/>
      </extension>
      <linkId value="1.4"/>
      <text value="Enter your weight in kg"/>
      <type value="decimal"/>
    </item>

    <!-- minQuantity and maxQuantity: Example to restrict the answer to range from 10 to 100 kilograms.-->
    <item>
      <extension url="http://hl7.org/fhir/StructureDefinition/questionnaire-unitValueSet">
        <valueCanonical value="http://hl7.org/fhir/ValueSet/ucum-bodyweight"/>
      </extension>
      <extension url="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-minQuantity">
        <valueQuantity>
          <value value="10"/>
          <system value="http://unitsofmeasure.org"/>
          <code value="kg"/>
        </valueQuantity>
      </extension>
      <extension url="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-maxQuantity">
        <valueQuantity>
          <value value="100"/>
          <system value="http://unitsofmeasure.org"/>
          <code value="kg"/>
        </valueQuantity>
      </extension>
      <linkId value="1.5"/>
      <text value="Body Weight"/>
      <type value="quantity"/>
    </item>

    <!-- mimeType and maxSize: Example to only allow a JPG or PDF attachment, up to 1,048,576 bytes.-->
    <item>
      <extension url="http://hl7.org/fhir/StructureDefinition/mimeType">
        <valueCode value="image/jpeg"/>
      </extension>
      <extension url="http://hl7.org/fhir/StructureDefinition/mimeType">
        <valueCode value="application/pdf"/>
      </extension>
      <extension url="http://hl7.org/fhir/StructureDefinition/maxSize">
        <valueDecimal value="1048576"/>
      </extension>
      <linkId value="1.6"/>
      <text value="Attach Proof of Citizenship"/>
      <type value="attachment"/>
    </item>
  </item>
</Questionnaire>