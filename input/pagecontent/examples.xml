<div xmlns="http://www.w3.org/1999/xhtml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://hl7.org/fhir ../../src-generated/schemas/fhir-single.xsd">
<style>
.question {
  border: solid black 1px;
  padding-top: 10px;
  padding-right: 1px;
  padding-bottom: 10px;
  padding-left: 5px;
  width: 500px;
  }
.example {
  padding-top: 10px;
  padding-bottom: 10px;
  }
.xml {
  font-size: 10px; 
  line-height: normal;
  }
  
.tabs {
  position: relative;   
  min-height: 210px; /* TODO: better way of doing this */
  clear: both;
  margin: 35px 0 25px;
  background: white;
}
.tab {
  float: left;
   
}
.tab label {
  background: #eee; 
  padding: 10px; 
  border: 1px solid #ccc; 
  margin-left: -1px; 
  position: relative;
  left: 1px; 
  top: -29px;
  -webkit-transition: background-color .17s linear;
}
.tab input[id^="tab-"]{
  display: none;   
}
.content-in-tab {
  position: absolute;
  top: 12px;
  left: 0;
  background: white;
  right: 0;
  bottom: 0;
  padding: 20px;
  border: 1px solid #ccc; 
  -webkit-transition: opacity .6s linear;
  opacity: 0;
}
[type=radio]:checked ~ label {
  background: white;
  border-bottom: 1px solid white;
  z-index: 2;
}
[type=radio]:checked ~ label ~ .content-in-tab {
  z-index: 1;
  opacity: 1;
}
textarea{
    height: 100%;
    width: 100%;
   -webkit-box-sizing: border-box; /* Safari/Chrome, other WebKit */
  -moz-box-sizing: border-box;    /* Firefox, other Gecko */
  box-sizing: border-box;         /* Opera/IE 8+ */
  resize: none;
}
.button {
  border: none;
  color: white;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  cursor: pointer;
  background-color: #008CBA;
}

/* The Modal (background) */
.modal {
  display: none; /* Hidden by default */
  position: fixed; /* Stay in place */
  /*z-index: 1;*/  /*Sit on top */
  padding-top: 100px; /* Location of the box */
  left: 0;
  top: 0;
  width: 100%; /* Full width */
  height: 100%; /* Full height */
  overflow: auto; /* Enable scroll if needed */
  background-color: rgb(0,0,0); /* Fallback color */
  background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
}

/* Modal Content */
.modal-content {
  background-color: #fefefe;
  margin: auto;
  padding: 20px;
  border: 1px solid #888;
  width: 80%;
}

/* The Close Button */
.close {
  color: #aaaaaa;
  float: right;
  font-size: 28px;
  font-weight: bold;
}

.close:hover,
.close:focus {
  color: #000;
  text-decoration: none;
  cursor: pointer;
}
</style>
<p>Below are some examples that demonstrate how the elements and extensions in this implementation guide are intended to be used in a Questionnaire.
   <span style="color:red;">Note:</span> The rendering of the questions in the "Sample Question" tab are not functional (i.e. no validations after entry, perform actual computations, etc). They only provide a visual presentation of the questions and do not mimic
   how they will work in an actual questionnaire.<br/><br/><br/><br/><br/></p>
<a name="text-appearance">  </a>
<h3>Text Appearance</h3>
<a name="rendering-style"></a>
<h4>Using rendering-style</h4>
<p>To display a question text in green.</p>
<div class="tabs">
  <div class="tab">
    <input type="radio" id="tab-rendering-style-1" name="tab-rendering-style-group" checked="true"></input>
    <label for="tab-rendering-style-1">Sample Question</label>
    <div class="content-in-tab">
      <p><span style="color:green;">Enter your First Name <input id="linkitem-1.0-input" type="text"/></span></p>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-rendering-style-2" name="tab-rendering-style-group"></input>
    <label for="tab-rendering-style-2">JSON</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        "item": [
          {
            "linkId": "1",
            "type": "string",
            "text": "Enter your First Name",
            "_text": {
              "extension": [
                {
                  "url": "http://hl7.org/fhir/StructureDefinition/rendering-style",
                  "valueString": "color:green;"
                }
              ]
            }
          }
        ]
      </textarea>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-rendering-style-3" name="tab-rendering-style-group"></input>
    <label for="tab-rendering-style-3">XML</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        <item>
            <linkId value="1" />
            <text value="Enter your First Name">
              <extension url="http://hl7.org/fhir/StructureDefinition/rendering-style">
                  <valueString value="color:green;" />
              </extension>
            </text>
            <type value="string" />
        </item>
      </textarea>
    </div> 
  </div>
</div>

<a name="rendering-xhtml"></a>
<h4>Using rendering-xhtml</h4>
<p>To allow different styles to different portion of a question text.</p>
<div class="tabs">
  <div class="tab">
    <input type="radio" id="tab-xhtml-1" name="tab-xhtml-group-2" checked="true"></input>
    <label for="tab-xhtml-1">Sample Question</label>
    <div class="content-in-tab">
      <p><i>Please</i> answer <b><u>Yes</u></b> or <b><u>No</u></b> to each of the following questions:</p>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-xhtml-2" name="tab-xhtml-group-2"></input>
    <label for="tab-xhtml-2">JSON</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        "item": [
          {
            "linkId": "1",
            "text": "Please answer Yes or No to each of the following questions:",
            "_text": {
              "extension": [
                {
                  "url": "http://hl7.org/fhir/StructureDefinition/rendering-xhtml",
                  "valueString": "&lt;i&gt;Please&lt;/i&gt; answer &lt;b&gt;&lt;u&gt;Yes&lt;/u&gt;&lt;/b&gt; or &lt;b&gt;&lt;u&gt;No&lt;/u&gt;&lt;/b&gt; to each of the following questions:"
                }
              ]
            },
            "type": "display"
          }
        ]
     </textarea>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-xhtml-3" name="tab-xhtml-group-2"></input>
    <label for="tab-xhtml-3">XML</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
         <item>
            <linkId value="1"/>
            <text value="Please answer Yes or No to each of the following questions:">
              <extension url="http://hl7.org/fhir/StructureDefinition/rendering-xhtml">
                <valueString value="&lt;i&gt;Please&lt;/i&gt; answer &lt;b&gt;&lt;u&gt;Yes&lt;/u&gt;&lt;/b&gt; or &lt;b&gt;&lt;u&gt;No&lt;/u&gt;&lt;/b&gt; to each of the following questions:"/>
              </extension>
            </text>
            <type value="display"/>
         </item>
      </textarea>
    </div> 
  </div>
</div>

<a name="displayCategory"></a>
<h4>Using displayCategory</h4>
<p>To indicate what kind of display item it is so that systems can apply differential formatting based on the purpose of the display element.</p>
<div class="tabs">
  <div class="tab">
    <input type="radio" id="tab-displaycategory-1" name="tab-displaycategory-group-2" checked="true"></input>
    <label for="tab-displaycategory-1">Sample Question</label>
    <div class="content-in-tab">
      <p>ALL QUESTIONS CONTAINED IN THIS QUESTIONNAIRE ARE OPTIONAL AND WILL BE KEPT STRICTLY CONFIDENTIAL.</p>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-displaycategory-2" name="tab-displaycategory-group-2"></input>
    <label for="tab-displaycategory-2">JSON</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        "item": [
          {
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-displayCategory",
                "valueCodeableConcept": {
                  "coding": [
                    {
                      "system": "http://hl7.org/fhir/questionnaire-display-category",
                      "code": "security",
                      "display": "Security"
                    }
                  ],
                  "text": "The text provides guidance on how the information will be handled from a security perspective."
                }
              }
            ],
            "linkId": "1.0",
            "text": "ALL QUESTIONS CONTAINED IN THIS QUESTIONNAIRE ARE OPTIONAL AND WILL BE KEPT STRICTLY CONFIDENTIAL.",
            "type": "display"
          }
        ]
     </textarea>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-displaycategory-3" name="tab-displaycategory-group-2"></input>
    <label for="tab-displaycategory-3">XML</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        <item>
          <extension url="http://hl7.org/fhir/StructureDefinition/questionnaire-displayCategory">
            <valueCodeableConcept>
              <coding>
                <system value="http://hl7.org/fhir/questionnaire-display-category"/>
                <code value="security"/>
                <display value="Security"/>
              </coding>
              <text value="The text provides guidance on how the information will be handled from a security perspective."/>
            </valueCodeableConcept>
          </extension>
          <linkId value="1.0"/>
          <text value="ALL QUESTIONS CONTAINED IN THIS QUESTIONNAIRE ARE OPTIONAL AND WILL BE KEPT STRICTLY CONFIDENTIAL." />
          <type value="display"/>
        </item>
      </textarea>
    </div> 
  </div>
</div>

<a name="hidden"></a>
<h4>Using hidden</h4>
<p>To hide an item to a user. This example has a question for Form ID that is not displayed.</p>
<div class="tabs">
  <div class="tab">
    <input type="radio" id="tab-hidden-1" name="tab-hidden-group-2" checked="true"></input>
    <label for="tab-hidden-1">Sample Question</label>
    <div class="content-in-tab">
      <p>Event ID <input id="eventId-1.0-input" type="text"/></p>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-hidden-2" name="tab-hidden-group-2"></input>
    <label for="tab-hidden-2">JSON</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        "item": [
          {
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                "valueBoolean": true
              }
            ],
            "linkId": "1.0",
            "text": "Form ID",
            "type": "string"
          },
          {
            "linkId": "1.1",
            "text": "Event ID",
            "type": "string"
          }
        ]
     </textarea>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-hidden-3" name="tab-hidden-group-2"></input>
    <label for="tab-hidden-3">XML</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        <item>
          <extension url="http://hl7.org/fhir/StructureDefinition/questionnaire-hidden">
            <valueBoolean value="true"/>
          </extension>
          <linkId value="1.0"/>
          <text value="Form ID"/>
          <type value="string"/>
        </item>
        <item>
          <linkId value="1.1"/>
          <text value="Event ID"/>
          <type value="string"/>
        </item>
      </textarea>
    </div> 
  </div>
</div>

<a name="control">  </a>
<h3>Control Appearance</h3>
<a name="itemControl"></a>
<h4>Using itemControl</h4>
<p>To display a text box where a user can type in their answer freely. </p>
<div class="tabs">
  <div class="tab">
    <input type="radio" id="tab-itemcontrol-1" name="tab-itemcontrol-group-2" checked="true"></input>
    <label for="tab-itemcontrol-1">Sample Question</label>
    <div class="content-in-tab">
      <p>If you have any other medical problems or serious injuries, please describe them here:
        <textarea class="textarea1" rows="4" cols="30">  </textarea></p>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-itemcontrol-2" name="tab-itemcontrol-group-2"></input>
    <label for="tab-itemcontrol-2">JSON</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        "item": [
          {
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                "valueCodeableConcept": {
                  "coding": [
                    {
                      "system": "http://hl7.org/fhir/questionnaire-item-control",
                      "code": "text-box",
                      "display": "Text Box"
                    }
                  ],
                  "text": "A control where a user can type in their answer freely."
                }
              }
            ],
            "linkId": "1.0",
            "text": "If you have any other medical problems or serious injuries, please describe them here:",
            "type": "text"
          }
        ]
     </textarea>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-itemcontrol-3" name="tab-itemcontrol-group-2"></input>
    <label for="tab-itemcontrol-3">XML</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        <item>
          <extension url="http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl">
            <valueCodeableConcept>
              <coding>
                <system value="http://hl7.org/fhir/questionnaire-item-control"/>
                <code value="text-box"/>
                <display value="Text Box"/>
              </coding>
              <text value="A control where a user can type in their answer freely."/>
            </valueCodeableConcept>
          </extension>
          <linkId value="1.0"/>
          <text value="If you have any other medical problems or serious injuries, please describe them here:"/>
          <type value="text"/>
        </item>
      </textarea>
    </div> 
  </div>
</div>

<a name="choiceOrientation"></a>
<h4>Using choiceOrientation</h4>
<p>To display choices horizontally.</p>
<div class="tabs">
  <div class="tab">
    <input type="radio" id="tab-choiceOrientationme-1" name="tab-choiceOrientationme-group-2" checked="true"></input>
    <label for="tab-choiceOrientationme-1">Sample Question</label>
    <div class="content-in-tab">
      <p>Gender:
        <input id="linkitem-1.0-f" type="radio" name="Gender" value="F" checked="checked"/> Female&#xA0;&#xA0;
        <input id="linkitem-1.0-m" type="radio" name="Gender" value="M"/> Male&#xA0;&#xA0;
        <input id="linkitem-1.0-o" type="radio" name="Gender" value="O"/> Other&#xA0;&#xA0;
        <input id="linkitem-1.0-u" type="radio" name="Gender" value="U"/> Unknown&#xA0;
      </p>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-choiceOrientationme-2" name="tab-choiceOrientationme-group-2"></input>
    <label for="tab-choiceOrientationme-2">JSON</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        "item": [
          {
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-choiceOrientation",
                "valueCode": "horizontal"
              },
              {
                "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                "valueCodeableConcept": {
                  "coding": [
                    {
                      "system": "http://hl7.org/fhir/questionnaire-item-control",
                      "code": "radio-button",
                      "display": "Radio Button"
                    }
                  ],
                  "text": "A control where choices are listed with a button beside them. The button can be toggled to select or de-select a given choice. Selecting one item deselects all others."
                }
              }
            ],
            "linkId": "1.0",
            "text": "Gender:",
            "type": "choice",
            "answerOption": [
              {
                "valueCoding": {
                  "code": "F",
                  "display": "Female"
                },
                "initialSelected": true
              },
              {
                "valueCoding": {
                  "code": "M",
                  "display": "Male"
                }
              },
              {
                "valueCoding": {
                  "code": "O",
                  "display": "Other"
                }
              },
              {
                "valueCoding": {
                  "code": "U",
                  "display": "Unknown"
                }
              }
            ]
          }
        ]
     </textarea>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-choiceOrientationme-3" name="tab-choiceOrientationme-group-2"></input>
    <label for="tab-choiceOrientationme-3">XML</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        <item>
          <extension url="http://hl7.org/fhir/StructureDefinition/questionnaire-choiceOrientation">
            <valueCode value="horizontal"/>
          </extension>
          <extension url="http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl">
            <valueCodeableConcept>
              <coding>
                <system value="http://hl7.org/fhir/questionnaire-item-control"/>
                <code value="radio-button"/>
                <display value="Radio Button"/>
              </coding>
              <text value="A control where choices are listed with a button beside them. The button can be toggled to select or de-select a given choice. Selecting one item deselects all others."/>
            </valueCodeableConcept>
          </extension>
          <linkId value="1.0"/>
          <text value="Gender:"/>
          <type value="choice"/>
          <answerOption>
            <valueCoding>
              <code value="F"/>
              <display value="Female"/>
            </valueCoding>
            <initialSelected value="true"/>
          </answerOption>
          <answerOption>
            <valueCoding>
              <code value="M"/>
              <display value="Male"/>
            </valueCoding>
          </answerOption>
          <answerOption>
            <valueCoding>
              <code value="O"/>
              <display value="Other"/>
            </valueCoding>
          </answerOption>
          <answerOption>
            <valueCoding>
              <code value="U"/>
              <display value="Unknown"/>
            </valueCoding>
          </answerOption>
        </item>
      </textarea>
    </div> 
  </div>
</div>

<a name="sliderStepValue"></a>
<h4>Using sliderStepValue</h4>
<p>To indicate the increment of a slider itemControl. </p>
<div class="tabs">
  <div class="tab">
    <input type="radio" id="tab-sliderStepValue-1" name="tab-sliderStepValue-group-2" checked="true"></input>
    <label for="tab-sliderStepValue-1">Sample Question</label>
    <div class="content-in-tab">
      <p> Rate your doctor:
        0<input type="range" list="tickmarks" min="0" max="100" value="50" step="10" class="slider" id="linkitem-3.1-slider">100%
        <datalist id="tickmarks">
          <option value="0"></option>
          <option value="10"></option>
          <option value="20"></option>
          <option value="30"></option>
          <option value="40"></option>
          <option value="50"></option>
          <option value="60"></option>
          <option value="70"></option>
          <option value="80"></option>
          <option value="90"></option>
            <option value="100"></option>
        </datalist></input>
      </p>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-sliderStepValue-2" name="tab-sliderStepValue-group-2"></input>
    <label for="tab-sliderStepValue-2">JSON</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        "item": [
          {
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                "valueCodeableConcept": {
                  "coding": [
                    {
                      "system": "http://hl7.org/fhir/questionnaire-item-control",
                      "code": "slider",
                      "display": "Slider"
                    }
                  ],
                  "text": "A control where an axis is displayed between the high and low values and the control can be visually manipulated to select a value anywhere on the axis."
                }
              },
              {
                "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-sliderStepValue",
                "valueInteger": 10
              },
              {
                "url": "http://hl7.org/fhir/StructureDefinition/minValue",
                "valueInteger": 0
              },
              {
                "url": "http://hl7.org/fhir/StructureDefinition/maxValue",
                "valueInteger": 100
              }
            ],
            "linkId": "3.1",
            "text": "Rate your doctor:",
            "type": "integer",
            "initial": [
              {
                "valueInteger": 50
              }
            ]
          }
        ]
     </textarea>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-sliderStepValue-3" name="tab-sliderStepValue-group-2"></input>
    <label for="tab-sliderStepValue-3">XML</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        <item>
          <extension url="http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl">
            <valueCodeableConcept>
              <coding>
                <system value="http://hl7.org/fhir/questionnaire-item-control"/>
                <code value="slider"/>
                <display value="Slider"/>
              </coding>
              <text value="A control where an axis is displayed between the high and low values and the control can be visually manipulated to select a value anywhere on the axis."/>
            </valueCodeableConcept>
          </extension>
          <extension url="http://hl7.org/fhir/StructureDefinition/questionnaire-sliderStepValue">
            <valueInteger value="10"/>
          </extension>
          <extension url="http://hl7.org/fhir/StructureDefinition/minValue">
            <valueInteger value="0"/>
          </extension>
          <extension url="http://hl7.org/fhir/StructureDefinition/maxValue">
            <valueInteger value="100"/>
          </extension>
          <linkId value="3.1"/>
          <text value="Rate your doctor:"/>
          <type value="integer"/>
          <initial>
            <valueInteger value="50"/>
          </initial>
        </item>
      </textarea>
    </div> 
  </div>
</div>

<a name="width"></a>
<h4>Using width</h4>
<p>To set the width of a column in a table.</p>
<div class="tabs">
  <div class="tab">
    <input type="radio" id="tab-width-1" name="tab-width-group-2" checked="true"></input>
    <label for="tab-width-1">Sample Question</label>
    <div class="content-in-tab">
      <p>Medical History
      <table border="1">
          <col width="65%"/>
          <col width="35%"/>
          <tr>
            <td>
              Diabetes
            </td>
            <td>
              Other Information
            </td>
          </tr>
          <tr>
            <td>
              <input id="linkitem-2.1-choice1" type="checkbox" name="diabetes-type1" value="diabetes-type1"/> Type 1
            </td>
            <td>
              <input id="linkitem-2.2-choice1" type="checkbox" name="otherinformation-hypertension" value="otherinformation-hypertension"/> Hypertension
            </td>
          </tr>
          <tr>
            <td>
              <input id="linkitem-2.1-choice2" type="checkbox" name="diabetes-type2" value="diabetes-type2"/> Type 2
            </td>
            <td>
              <input id="linkitem-2.2-choice2" type="checkbox" name="otherinformation-smoker" value="otherinformation-smoker"/> Smoker
            </td>
          </tr>
        </table>
      </p>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-width-2" name="tab-width-group-2"></input>
    <label for="tab-width-2">JSON</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        "item": [
          {
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                "valueCodeableConcept": {
                  "coding": [
                    {
                      "system": "http://hl7.org/fhir/questionnaire-item-control",
                      "code": "htable",
                      "display": "Horizontal Answer Table"
                    }
                  ],
                  "text": "Questions within the group are columns in the table with possible answers as rows. Used for 'choice' questions."
                }
              }
            ],
            "linkId": "2",
            "text": "Medical History",
            "type": "group",
            "item": [
              {
                "extension": [
                  {
                    "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                    "valueCodeableConcept": {
                      "coding": [
                        {
                          "system": "http://hl7.org/fhir/questionnaire-item-control",
                          "code": "check-box",
                          "display": "Check-box"
                        }
                      ],
                      "text": "A control where choices are listed with a box beside them. The box can be toggled to select or de-select a given choice. Multiple selections may be possible."
                    }
                  },
                  {
                    "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-width",
                    "valueQuantity": {
                      "value": 65,
                      "system": "http://unitsofmeasure.org",
                      "code": "%"
                    }
                  }
                ],
                "linkId": "2.1",
                "text": "Diabetes",
                "type": "choice",
                "answerOption": [
                  {
                    "valueCoding": {
                      "code": "diabetes-type1",
                      "display": "Type 1"
                    }
                  },
                  {
                    "valueCoding": {
                      "code": "diabetes-type2",
                      "display": "Type 2"
                    }
                  }
                ]
              },
              {
                "extension": [
                  {
                    "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                    "valueCodeableConcept": {
                      "coding": [
                        {
                          "system": "http://hl7.org/fhir/questionnaire-item-control",
                          "code": "check-box",
                          "display": "Check-box"
                        }
                      ],
                      "text": "A control where choices are listed with a box beside them. The box can be toggled to select or de-select a given choice. Multiple selections may be possible."
                    }
                  },
                  {
                    "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-width",
                    "valueQuantity": {
                      "value": 35,
                      "system": "http://unitsofmeasure.org",
                      "code": "%"
                    }
                  }
                ],
                "linkId": "2.2",
                "text": "Other Information",
                "type": "choice",
                "answerOption": [
                  {
                    "valueCoding": {
                      "code": "otherinformation-hypertension",
                      "display": "Hypertension"
                    }
                  },
                  {
                    "valueCoding": {
                      "code": "otherinformation-smoker",
                      "display": "Smoker"
                    }
                  }
                ]
              }
            ]
          }
        ]
     </textarea>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-width-3" name="tab-width-group-2"></input>
    <label for="tab-width-3">XML</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        <item>
          <extension url="http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl">
            <valueCodeableConcept>
              <coding>
                <system value="http://hl7.org/fhir/questionnaire-item-control"/>
                <code value="htable"/>
                <display value="Horizontal Answer Table"/>
              </coding>
              <text value="Questions within the group are columns in the table with possible answers as rows. Used for 'choice' questions."/>
            </valueCodeableConcept>
          </extension>
          <linkId value="2"/>
          <text value="Medical History"/>
          <type value="group"/>
          <item>
            <extension url="http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl">
              <valueCodeableConcept>
                <coding>
                  <system value="http://hl7.org/fhir/questionnaire-item-control"/>
                  <code value="check-box"/>
                  <display value="Check-box"/>
                </coding>
                <text value="A control where choices are listed with a box beside them. The box can be toggled to select or de-select a given choice. Multiple selections may be possible."/>
              </valueCodeableConcept>
            </extension>
            <extension url="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-width">
              <valueQuantity>
                <value value="65"/>
                <system value="http://unitsofmeasure.org"/>
                <code value="%"/>
              </valueQuantity>
            </extension>
            <linkId value="2.1"/>
            <text value="Diabetes"/>
            <type value="choice"/>
            <answerOption>
              <valueCoding>
                <code value="diabetes-type1"/>
                <display value="Type 1"/>
              </valueCoding>
            </answerOption>
            <answerOption>
              <valueCoding>
                <code value="diabetes-type2"/>
                <display value="Type 2"/>
              </valueCoding>
            </answerOption>
          </item>
          <item>
            <extension url="http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl">
              <valueCodeableConcept>
                <coding>
                  <system value="http://hl7.org/fhir/questionnaire-item-control"/>
                  <code value="check-box"/>
                  <display value="Check-box"/>
                </coding>
                <text value="A control where choices are listed with a box beside them. The box can be toggled to select or de-select a given choice. Multiple selections may be possible."/>
              </valueCodeableConcept>
            </extension>
            <extension url="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-width">
              <valueQuantity>
                <value value="35"/>
                <system value="http://unitsofmeasure.org"/>
                <code value="%"/>
              </valueQuantity>
            </extension>
            <linkId value="2.2"/>
            <text value="Other Information"/>
            <type value="choice"/>
            <answerOption>
              <valueCoding>
                <code value="otherinformation-hypertension"/>
                <display value="Hypertension"/>
              </valueCoding>
            </answerOption>
            <answerOption>
              <valueCoding>
                <code value="otherinformation-smoker"/>
                <display value="Smoker"/>
              </valueCoding>
            </answerOption>
          </item>
        </item>
      </textarea>
    </div> 
  </div>
</div>

<a name="additional">  </a>
<h3>Additional Display Content</h3>

<a name="supportLink"></a>
<h4>Using supportLink</h4>
<p>To add a a support link to a question that will provide more information to the user.</p>
<div class="tabs">
  <div class="tab">
    <input type="radio" id="tab-supportLink-1" name="tab-supportLink-group-2" checked="true"></input>
    <label for="tab-supportLink-1">Sample Question</label>
    <div class="content-in-tab">
      <p>Have you traveled outside the country within the last 14 days? <button class="button" onclick="window.open('{{site.data.fhir.path}}extension-questionnaire-supportlink.html'); return false;">?</button><br/>
        <input type="radio" id="yes" name="yesno" value="Y"> Yes  </input><br/>
        <input type="radio" id="no" name="yesno" value="N"> No  </input>
      </p>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-supportLink-2" name="tab-supportLink-group-2"></input>
    <label for="tab-supportLink-2">JSON</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        "item": [
          {
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-supportLink",
                "valueUri": "http://hl7.org/fhir/StructureDefinition/questionnaire-supportLink"
              },
              {
                "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                "valueCodeableConcept": {
                  "coding": [
                    {
                      "system": "http://hl7.org/fhir/questionnaire-item-control",
                      "code": "radio-button",
                      "display": "Radio Button"
                    }
                  ],
                  "text": "Radio Button"
                }
              }
            ],
            "linkId": "1.0",
            "text": "Have you traveled outside the country within the last 14 days?",
            "type": "choice",
            "answerOption": [
              {
                "valueCoding": {
                  "code": "Y",
                  "display": "Yes"
                }
              },
              {
                "valueCoding": {
                  "code": "N",
                  "display": "No"
                }
              }
            ]
          }
        ]
      </textarea>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-supportLink-3" name="tab-supportLink-group-2"></input>
    <label for="tab-supportLink-3">XML</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        <item>
          <extension url="http://hl7.org/fhir/StructureDefinition/questionnaire-supportLink">
            <valueUri value="http://hl7.org/fhir/StructureDefinition/questionnaire-supportLink"/>
          </extension>
          <extension url="http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl">
            <valueCodeableConcept>
              <coding>
                <system value="http://hl7.org/fhir/questionnaire-item-control"/>
                <code value="radio-button"/>
                <display value="Radio Button"/>
              </coding>
              <text value="A control where choices are listed with a button beside them. The button can be toggled to select or de-select a given choice. Selecting one item deselects all others."/>
            </valueCodeableConcept>
          </extension>
          <linkId value="1.0"/>
          <text value="Have you traveled outside the country within the last 14 days?"/>
          <type value="choice"/>
          <answerOption>
            <valueCoding>
              <code value="Y"/>
              <display value="Yes"/>
            </valueCoding>
          </answerOption>
          <answerOption>
            <valueCoding>
              <code value="N"/>
              <display value="No"/>
            </valueCoding>
          </answerOption>
        </item>
      </textarea>
    </div> 
  </div>
</div>

<a name="choiceColumn"></a>
<h4>Using choiceColumn</h4>
<p>To display choices with multiple columns.</p>
<div class="tabs" style="height:250px">
  <div class="tab">
    <input type="radio" id="tab-choiceColumn-1" name="tab-choiceColumn-group-2" checked="true"></input>
    <label for="tab-choiceColumn-1">Sample Question</label>
    <div class="content-in-tab">
      <p>
      Select Platelet:<br/>
        <select name="choiceColumnWithCodes" id="choiceColumnWithCodes">
          <option value="header">CODE&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;DESCRIPTION</option>
          <option value="LA11165-0" selected="true">LA11165-0&#xA0;&#xA0;&#xA0;&#xA0;Platelet anisocytosis</option>
            <option value="LA11166-8">LA11166-8&#xA0;&#xA0;&#xA0;&#xA0;Platelet satellitism</option>
            <option value="LA11167-6">LA11167-6&#xA0;&#xA0;&#xA0;&#xA0;Platelet large fragments</option>
            <option value="LA11167-6">LA11167-6&#xA0;&#xA0;&#xA0;&#xA0;Platelet large fragments</option>
            <option value="LA11168-4">LA11168-4&#xA0;&#xA0;&#xA0;&#xA0;Platelet clump</option>
            <option value="LA11169-2">LA11169-2&#xA0;&#xA0;&#xA0;&#xA0;Platelets.agranular</option>
            <option value="LA11170-0">LA11170-0&#xA0;&#xA0;&#xA0;&#xA0;Platelets.giant</option>
            <option value="LA11172-8">LA11172-8&#xA0;&#xA0;&#xA0;&#xA0;Platelets.small</option>
            <option value="LA11172-6">LA11172-6&#xA0;&#xA0;&#xA0;&#xA0;Platelets.large</option>
        </select>
      </p>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-choiceColumn-2" name="tab-choiceColumn-group-2"></input>
    <label for="tab-choiceColumn-2">JSON</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        "item": [
          {
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                "valueCodeableConcept": {
                  "coding": [
                    {
                      "system": "http://hl7.org/fhir/questionnaire-item-control",
                      "code": "drop-down",
                      "display": "Drop down"
                    }
                  ],
                  "text": "A control where an item (or multiple items) can be selected from a list that is only displayed when the user is editing the field."
                }
              },
              {
                "extension": [
                  {
                    "url": "path",
                    "valueString": "code"
                  },
                  {
                    "url": "label",
                    "valueString": "CODE"
                  },
                  {
                    "url": "width",
                    "valueQuantity": {
                      "value": 25,
                      "system": "http://unitsofmeasure.org",
                      "code": "%"
                    }
                  },
                  {
                    "url": "forDisplay",
                    "valueBoolean": false
                  }
                ],
                "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-choiceColumn"
              },
              {
                "extension": [
                  {
                    "url": "path",
                    "valueString": "display"
                  },
                  {
                    "url": "label",
                    "valueString": "DESCRIPTION"
                  },
                  {
                    "url": "width",
                    "valueQuantity": {
                      "value": 75,
                      "system": "http://unitsofmeasure.org",
                      "code": "%"
                    }
                  },
                  {
                    "url": "forDisplay",
                    "valueBoolean": true
                  }
                ],
                "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-choiceColumn"
              }
            ],
            "linkId": "5.1",
            "text": "Select Platelet:",
            "type": "choice",
            "answerValueSet": "http://loinc.org/vs/LL715-4"
          }
        ]
      </textarea>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-choiceColumn-3" name="tab-choiceColumn-group-2"></input>
    <label for="tab-choiceColumn-3">XML</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        <item>
          <extension url="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-choiceColumn">
            <extension url="path">
              <valueString value="code"/>
            </extension>
            <extension url="label">
              <valueString value="CODE"/>
            </extension>
            <extension url="width">
              <valueQuantity>
                <value value="25"/>
                <system value="http://unitsofmeasure.org"/>
                <code value="%"/>
              </valueQuantity>
            </extension>
            <extension url="forDisplay">
              <valueBoolean value="false"/>
            </extension>
          </extension>
          <extension url="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-choiceColumn">
            <extension url="path">
              <valueString value="display"/>
            </extension>
            <extension url="label">
              <valueString value="DESCRIPTION"/>
            </extension>
            <extension url="width">
              <valueQuantity>
                <value value="75"/>
                <system value="http://unitsofmeasure.org"/>
                <code value="%"/>
              </valueQuantity>
            </extension>
            <extension url="forDisplay">
              <valueBoolean value="true"/>
            </extension>
          </extension>
          <linkId value="5.1"/>
          <text value="Select Platelet:"/>
          <type value="choice"/>
          <answerValueSet value="http://loinc.org/vs/LL715-4"/>
        </item>
      </textarea>
    </div> 
  </div>
</div>
<!-- TODO: how to define a new item control?-->
<!-- TODO: add example with reference -->

<a name="optionPrefix"></a>
<h4>Using optionPrefix</h4>
<p>To add prefixes on answer options.</p>
<div class="tabs">
  <div class="tab">
    <input type="radio" id="tab-optionPrefix-1" name="tab-optionPrefix-group-2" checked="true"></input>
    <label for="tab-optionPrefix-1">Sample Question</label>
    <div class="content-in-tab">
      <p>
      <p>Gender:<br/>
        <input id="linkitem-1.0-f" type="radio" name="Gender" value="F" checked="checked"/> (a) Female&#xA0;&#xA0;<br/>
        <input id="linkitem-1.0-m" type="radio" name="Gender" value="M"/> (b) Male&#xA0;&#xA0;<br/>
        <input id="linkitem-1.0-o" type="radio" name="Gender" value="O"/> (c) Other&#xA0;&#xA0;<br/>
        <input id="linkitem-1.0-u" type="radio" name="Gender" value="U"/> (d) Unknown&#xA0;
      </p>
      </p>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-optionPrefix-2" name="tab-optionPrefix-group-2"></input>
    <label for="tab-optionPrefix-2">JSON</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        "item": [
          {
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                "valueCodeableConcept": {
                  "coding": [
                    {
                      "system": "http://hl7.org/fhir/questionnaire-item-control",
                      "code": "radio-button",
                      "display": "Radio Button"
                    }
                  ],
                  "text": "A control where choices are listed with a button beside them. The button can be toggled to select or de-select a given choice. Selecting one item deselects all others."
                }
              }
            ],
            "linkId": "1.0",
            "text": "Gender:",
            "type": "choice",
            "answerOption": [
              {
                "extension": [
                  {
                    "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-optionPrefix",
                    "valueString": "(a)"
                  }
                ],
                "valueCoding": {
                  "code": "F",
                  "display": "Female"
                },
                "initialSelected": true
              },
              {
                "extension": [
                  {
                    "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-optionPrefix",
                    "valueString": "(b)"
                  }
                ],
                "valueCoding": {
                  "code": "M",
                  "display": "Male"
                }
              },
              {
                "extension": [
                  {
                    "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-optionPrefix",
                    "valueString": "(c)"
                  }
                ],
                "valueCoding": {
                  "code": "O",
                  "display": "Other"
                }
              },
              {
                "extension": [
                  {
                    "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-optionPrefix",
                    "valueString": "(d)"
                  }
                ],
                "valueCoding": {
                  "code": "U",
                  "display": "Unknown"
                }
              }
            ]
          }
        ]
     </textarea>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-optionPrefix-3" name="tab-optionPrefix-group-2"></input>
    <label for="tab-optionPrefix-3">XML</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        <item>
          <extension url="http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl">
            <valueCodeableConcept>
              <coding>
                <system value="http://hl7.org/fhir/questionnaire-item-control"/>
                <code value="radio-button"/>
                <display value="Radio Button"/>
              </coding>
              <text value="A control where choices are listed with a button beside them. The button can be toggled to select or de-select a given choice. Selecting one item deselects all others."/>
            </valueCodeableConcept>
          </extension>
          <linkId value="1.0"/>
          <text value="Gender:"/>
          <type value="choice"/>
          <answerOption>
            <extension url="http://hl7.org/fhir/StructureDefinition/questionnaire-optionPrefix">
              <valueString value="(a)"/>
            </extension>
            <valueCoding>
              <code value="F"/>
              <display value="Female"/>
            </valueCoding>
            <initialSelected value="true"/>
          </answerOption>
          <answerOption>
            <extension url="http://hl7.org/fhir/StructureDefinition/questionnaire-optionPrefix">
              <valueString value="(b)"/>
            </extension>
            <valueCoding>
              <code value="M"/>
              <display value="Male"/>
            </valueCoding>
          </answerOption>
          <answerOption>
            <extension url="http://hl7.org/fhir/StructureDefinition/questionnaire-optionPrefix">
              <valueString value="(c)"/>
            </extension>
            <valueCoding>
              <code value="O"/>
              <display value="Other"/>
            </valueCoding>
          </answerOption>
          <answerOption>
            <extension url="http://hl7.org/fhir/StructureDefinition/questionnaire-optionPrefix">
              <valueString value="(d)"/>
            </extension>
            <valueCoding>
              <code value="U"/>
              <display value="Unknown"/>
            </valueCoding>
          </answerOption>
        </item>
      </textarea>
    </div> 
  </div>
</div>

<a name="valueset-label"></a>
<h4>Using valueset-label</h4>
<p>To add prefixes on a value set.</p>
<div class="tabs">
  <div class="tab">
    <input type="radio" id="tab-valueset-label-1" name="tab-valueset-label-group-2" checked="true"></input>
    <label for="tab-valueset-label-1">Sample Question</label>
    <div class="content-in-tab">
      <p>
        Enter timing of harm assessment:<br/>
        <input id="linkitem-4.1-a" type="radio" name="Timing" value="LA20752-4" checked="checked"/>&#xA0;A. Within 24 hours&#xA0;<br/>
        <input id="linkitem-4.1-b" type="radio" name="Timing" value="LA20753-2"/>&#xA0;B. After 24 hours but before 3 days&#xA0;<br/>
        <input id="linkitem-4.1-c" type="radio" name="Timing" value="LA20754-0"/>&#xA0;C. Three days or later&#xA0;<br/>
        <input id="linkitem-4.1-d" type="radio" name="Timing" value="LA4489-6"/>&#xA0;D. Unknown&#xA0;
      </p>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-valueset-label-2" name="tab-valueset-label-group-2"></input>
    <label for="tab-valueset-label-2">JSON</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        {
          "resourceType": "Questionnaire",
          ...
          "contained": [
            {
              "resourceType": "ValueSet",
              "id": "LL2821-8",
              "title": "Timing of harm assessment [AHRQ]",
              "status": "active",
              "description": "The answer list for timing of harm assessment",
              "copyright": "This content from LOINC® is copyright © 1995 Regenstrief Institute, Inc. and the LOINC Committee, and available at no cost under the license at http://loinc.org/terms-of-use",
              "compose": {
                "include": [
                  {
                    "system": "http://loinc.org",
                    "concept": [
                      {
                        "extension": [
                          {
                            "url": "http://hl7.org/fhir/StructureDefinition/valueset-label",
                            "valueString": "A."
                          }
                        ],
                        "code": "LA20752-4",
                        "display": "Within 24 hours"
                      },
                      {
                        "extension": [
                          {
                            "url": "http://hl7.org/fhir/StructureDefinition/valueset-label",
                            "valueString": "B."
                          }
                        ],
                        "code": "LA20753-2",
                        "display": "After 24 hours but before 3 days"
                      },
                      {
                        "extension": [
                          {
                            "url": "http://hl7.org/fhir/StructureDefinition/valueset-label",
                            "valueString": "C."
                          }
                        ],
                        "code": "LA20754-0",
                        "display": "Three days or later"
                      },
                      {
                        "extension": [
                          {
                            "url": "http://hl7.org/fhir/StructureDefinition/valueset-label",
                            "valueString": "D."
                          }
                        ],
                        "code": "LA4489-6",
                        "display": "Unknown"
                      }
                    ]
                  }
                ]
              }
            }
          ],
          "item": [
            {
              "extension": [
                {
                  "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-choiceOrientation",
                  "valueCode": "vertical"
                },
                {
                  "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                  "valueCodeableConcept": {
                    "coding": [
                      {
                        "system": "http://hl7.org/fhir/questionnaire-item-control",
                        "code": "radio-button",
                        "display": "Radio Button"
                      }
                    ],
                    "text": "A control where choices are listed with a button beside them. The button can be toggled to select or de-select a given choice. Selecting one item deselects all others."
                  }
                }
              ],
              "linkId": "4.1",
              "text": "Enter timing of harm assessment:",
              "type": "choice",
              "answerValueSet": "#LL2821-8"
            }
          ]
        }
      </textarea>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-valueset-label-3" name="tab-valueset-label-group-2"></input>
    <label for="tab-valueset-label-3">XML</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
      <Questionnaire>
        ...
        <contained>
          <ValueSet>
            <id value="LL2821-8"/>
            <title value="Timing of harm assessment [AHRQ]"/>
            <status value="active"/>
            <description value="The answer list for timing of harm assessment"/>
            <copyright value="This content from LOINC® is copyright © 1995 Regenstrief Institute, Inc. and the LOINC Committee, and available at no cost under the license at http://loinc.org/terms-of-use"/>
            <compose>
              <include>
                <system value="http://loinc.org"/>
                <concept>
                  <extension url="http://hl7.org/fhir/StructureDefinition/valueset-label">
                    <valueString value="A."/>
                  </extension>
                  <code value="LA20752-4"/>
                  <display value="Within 24 hours"/>
                </concept>
                <concept>
                  <extension url="http://hl7.org/fhir/StructureDefinition/valueset-label">
                    <valueString value="B."/>
                  </extension>
                  <code value="LA20753-2"/>
                  <display value="After 24 hours but before 3 days"/>
                </concept>
                <concept>
                  <extension url="http://hl7.org/fhir/StructureDefinition/valueset-label">
                    <valueString value="C."/>
                  </extension>
                  <code value="LA20754-0"/>
                  <display value="Three days or later"/>
                </concept>
                <concept>
                  <extension url="http://hl7.org/fhir/StructureDefinition/valueset-label">
                    <valueString value="D."/>
                  </extension>
                  <code value="LA4489-6"/>
                  <display value="Unknown"/>
                </concept>
              </include>
            </compose>
          </ValueSet>   
        </contained>
        <item>
          <extension url="http://hl7.org/fhir/StructureDefinition/questionnaire-choiceOrientation">
            <valueCode value="vertical"/>
          </extension>
          <extension url="http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl">
            <valueCodeableConcept>
              <coding>
                <system value="http://hl7.org/fhir/questionnaire-item-control"/>
                <code value="radio-button"/>
                <display value="Radio Button"/>
              </coding>
              <text value="A control where choices are listed with a button beside them. The button can be toggled to select or de-select a given choice. Selecting one item deselects all others."/>
            </valueCodeableConcept>
          </extension>
          <linkId value="4.1"/>
          <text value="Enter timing of harm assessment:"/>
          <type value="choice"/>
          <answerValueSet value="#LL2821-8"/>
        </item>
      </Questionnaire>
      </textarea>
    </div> 
  </div>
</div>

<a name="entryFormat"></a>
<h4>Using entryFormat</h4>
<p>To add instructions for the user to guide their input.</p>
<div class="tabs">
  <div class="tab">
    <input type="radio" id="tab-entryFormat-1" name="tab-entryFormat-group-2" checked="true"></input>
    <label for="tab-entryFormat-1">Sample Question</label>
    <div class="content-in-tab">
      <p>
        Birth Date <input id="linkitem-1.6-input" type="text" style="color:blue;" value="mm-dd-yyyy"/>
      </p>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-entryFormat-2" name="tab-entryFormat-group-2"></input>
    <label for="tab-entryFormat-2">JSON</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        "item": [
          {
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/entryFormat",
                "valueString": "mm-dd-yyyy"
              }
            ],
            "linkId": "1.6",
            "text": "Birth Date",
            "type": "date"
          }
        ]
     </textarea>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-entryFormat-3" name="tab-entryFormat-group-2"></input>
    <label for="tab-entryFormat-3">XML</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        <item>
          <extension url="http://hl7.org/fhir/StructureDefinition/entryFormat">
            <valueString value="mm-dd-yyyy"/>
          </extension>
          <linkId value="1.6"/>
          <text value="Birth Date"/>
          <type value="date"/>
        </item>
      </textarea>
    </div> 
  </div>
</div>

<a name="rendering-styleSensitive"></a>
<h4>Using rendering-styleSensitive</h4>
<p>To indicate that the style extensions on a resource is essential.</p>
<div class="tabs">
  <div class="tab">
    <input type="radio" id="tab-rendering-styleSensitive-1" name="tab-rendering-styleSensitive-group-2" checked="true"></input>
    <label for="tab-rendering-styleSensitive-1">Sample Question</label>
    <div class="content-in-tab">
      <p><b><span style="color:red;">IMPORTANT: </span><i>Please</i> complete questionnaire.</b></p>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-rendering-styleSensitive-2" name="tab-rendering-styleSensitive-group-2"></input>
    <label for="tab-rendering-styleSensitive-2">JSON</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        "item": [
          {
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/rendering-styleSensitive",
                "valueBoolean": true
              }
            ],
            "linkId": "1",
            "text": "IMPORTANT: Please complete questionnaire.",
            "_text": {
              "extension": [
                {
                  "url": "http://hl7.org/fhir/StructureDefinition/rendering-style",
                  "valueString": "color:red;"
                },
                {
                  "url": "http://hl7.org/fhir/StructureDefinition/rendering-xhtml",
                  "valueString": "<b>IMPORTANT: <i>Please</i> complete questionnaire.</b>"
                }
              ]
            },
            "type": "display"
          }
        ]
     </textarea>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-rendering-styleSensitive-3" name="tab-rendering-styleSensitive-group-2"></input>
    <label for="tab-rendering-styleSensitive-3">XML</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        <item>
          <extension url="http://hl7.org/fhir/StructureDefinition/rendering-styleSensitive">
            <valueBoolean value="true"/>
          </extension>
          <linkId value="1"/>
          <text value="IMPORTANT: Please complete questionnaire.">
            <extension url="http://hl7.org/fhir/StructureDefinition/rendering-style">
              <valueString value="color:red;"/>
            </extension>
            <extension url="http://hl7.org/fhir/StructureDefinition/rendering-xhtml">
              <valueString value="&lt;b&gt;IMPORTANT: &lt;i&gt;Please&lt;/i&gt; complete questionnaire.&lt;/b&gt;"/>
            </extension>
          </text>
          <type value="display"/>
        </item>
      </textarea>
    </div> 
  </div>
</div>

<a name="optionalDisplay"></a>
<h4>Using optionalDisplay</h4>
<p>To set an item for optional display.</p>
<div class="tabs">
  <div class="tab">
    <input type="radio" id="tab-optionalDisplay-1" name="tab-optionalDisplay-group-2" checked="true"></input>
    <label for="tab-optionalDisplay-1">Sample Question</label>
    <div class="content-in-tab">
      <p>Enter your Middle Name <input id="linkitem-1.0-input" type="text"/></p>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-optionalDisplay-2" name="tab-optionalDisplay-group-2"></input>
    <label for="tab-optionalDisplay-2">JSON</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        "item": [
          {
            "extension": [
              {
                "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-optionalDisplay",
                "valueBoolean": true
              }
            ],
            "linkId": "1.2",
            "text": "Enter your Middle Name",
            "type": "string"
          }
        ]
     </textarea>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-optionalDisplay-3" name="tab-optionalDisplay-group-2"></input>
    <label for="tab-optionalDisplay-3">XML</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        <item>
          <extension url="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-optionalDisplay">
            <valueBoolean value="true"/>
          </extension>
          <linkId value="1.2"/>
          <text value="Enter your Middle Name"/>
          <type value="string"/>
        </item>
      </textarea>
    </div> 
  </div>
</div>

<a name="value-constraint">  </a>
<h3>Value constraints</h3>

<a name="maxLength"></a>
<h4>Using maxLength</h4>
<p>To restrict an answer to only have 50 characters.</p>
<div class="tabs">
  <div class="tab">
    <input type="radio" id="tab-1" name="tab-group-1" checked="true"></input>
    <label for="tab-1">Sample Question</label>
    <div class="content-in-tab">
      <p>Enter your First Name <input id="linkitem-1.1-input" type="text" maxlength="50" size="50"/></p>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-2" name="tab-group-1"></input>
    <label for="tab-2">JSON</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        "item": [
          {
            "linkId": "1",
            "type": "string",
            "text": "Enter your First Name",
            "maxLength": 50
          }
        ]
      </textarea>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-3" name="tab-group-1"></input>
    <label for="tab-3">XML</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        <item>
          <linkId value="1" />
          <text value="First Name" />
          <type value="string" />
          <maxLength value="50" />
        </item>
      </textarea>
    </div> 
  </div>
</div>
<a name="minLength"></a>
<h4>Using minLength</h4>
<p>To restrict an answer to have at least 2 characters.</p>  
<div class="tabs">
  <div class="tab">
    <input type="radio" id="tab-4" name="tab-group-2" checked="true"></input>
    <label for="tab-4">Sample Question</label>
    <div class="content-in-tab">
      <p>Enter your Last Name <input id="linkitem-1.2-input" type="text" minlength="2"/></p>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-5" name="tab-group-2"></input>
    <label for="tab-5">JSON</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        "item": [
          {
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/minLength",
                "valueInteger": 2
              }
            ],
            "linkId": "1",
            "type": "string",
            "text": "Enter your Last Name"
          }
        ]
      </textarea>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-6" name="tab-group-2"></input>
    <label for="tab-6">XML</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        <item>
            <extension url="http://hl7.org/fhir/StructureDefinition/minLength">
                <valueInteger value="2" />
            </extension>
            <linkId value="1" />
            <text value="Last Name" />
            <type value="string" />
        </item>
      </textarea>
    </div> 
  </div>
</div>
<a name="regex"></a>
<h4>Using regex</h4>
<p>To restrict an answer to be in this format: A1A 1A1</p>  
<div class="tabs">
  <div class="tab">
    <input type="radio" id="tab-regex-1" name="tab-regex-group-2" checked="true"></input>
    <label for="tab-regex-1">Sample Question</label>
    <div class="content-in-tab">
      <p>Postal Code (A1A 1A1) <input id="linkitem-1.2-input" type="text"/></p>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-regex-2" name="tab-regex-group-2"></input>
    <label for="tab-regex-2">JSON</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        "item": [
          {
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/regex",
                "valueString": "ANA NAN"
              }
            ],
            "linkId": "1",
            "type": "string",
            "text": "Postal Code (A1A 1A1)"
          }
        ]
      </textarea>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-regex-3" name="tab-regex-group-2"></input>
    <label for="tab-regex-3">XML</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        <item>
            <extension url="http://hl7.org/fhir/StructureDefinition/regex">
                <valueString value="ANA NAN" />
            </extension>
            <linkId value="1" />
            <text value="Postal Code (A1A 1A1)" />
            <type value="string" />
        </item>
      </textarea>
    </div> 
  </div>
</div>

<a name="minValue-maxValue-maxDecimalPlaces"></a>
<h4>Using minValue, maxValue, and maxDecimalPlaces</h4>
<p>To restrict an answer to range from 1 to 100, up to 2 decimal places</p>  
<div class="tabs">
  <div class="tab">
    <input type="radio" id="tab-range-decPlaces-4" name="tab-range-decPlaces-group-2" checked="true"></input>
    <label for="tab-range-decPlaces-4">Sample Question</label>
    <div class="content-in-tab">
      <p>Enter your weight in kg <input id="linkitem-1.2-input" type="text"/></p>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-range-decPlaces-5" name="tab-range-decPlaces-group-2"></input>
    <label for="tab-range-decPlaces-5">JSON</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        "item": [
          {
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/minValue",
                "valueDecimal": 1
              },
              {
                "url": "http://hl7.org/fhir/StructureDefinition/maxValue",
                "valueDecimal": 100
              },
              {
                "url": "http://hl7.org/fhir/StructureDefinition/maxDecimalPlaces",
                "valueInteger": 2
              }
            ],
            "linkId": "1",
            "type": "decimal",
            "text": "Enter your weight in kg"
          }
        ]
      </textarea>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-range-decPlaces-6" name="tab-range-decPlaces-group-2"></input>
    <label for="tab-range-decPlaces-6">XML</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        <item>
            <extension url="http://hl7.org/fhir/StructureDefinition/minValue">
                <valueDecimal value="1" />
            </extension>
            <extension url="http://hl7.org/fhir/StructureDefinition/maxValue">
                <valueDecimal value="100" />
            </extension>
            <extension url="http://hl7.org/fhir/StructureDefinition/maxDecimalPlaces">
                <valueInteger value="2" />
            </extension>
            <linkId value="1" />
            <text value="Enter your weight in kg" />
            <type value="decimal" />
        </item>
      </textarea>
    </div> 
  </div>
</div>

<a name="mimetype-maxsize"></a>
<h4>Using mimeType and maxSize</h4>
<p>To only allow a JPG or PDF attachment, up to 1Mb. </p>  
<div class="tabs">
  <div class="tab">
    <input type="radio" id="tab-mimetype-maxsize-1" name="tab-mimetype-maxsize-group-2" checked="true"></input>
    <label for="tab-mimetype-maxsize-1">Sample Question</label>
    <div class="content-in-tab">
      <p>Attach Proof of Citizenship <input type="file" id="linkitem-1.4-input" name="filename"/></p>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-mimetype-maxsize-2" name="tab-mimetype-maxsize-group-2"></input>
    <label for="tab-mimetype-maxsize-2">JSON</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        "item": [
          {
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/mimeType",
                "valueCode": "image/jpeg"
              },
              {
                "url": "http://hl7.org/fhir/StructureDefinition/mimeType",
                "valueCode": "application/pdf"
              },
              {
                "url": "http://hl7.org/fhir/StructureDefinition/maxSize",
                "valueDecimal": 1
              }
            ],
            "linkId": "1",
            "type": "attachment",
            "text": "Attach Proof of Citizenship"
          }
        ]
      </textarea>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-mimetype-maxsize-3" name="tab-mimetype-maxsize-group-2"></input>
    <label for="tab-mimetype-maxsize-3">XML</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        <item>
            <extension url="http://hl7.org/fhir/StructureDefinition/mimeType">
                <valueCode value="image/jpeg" /> 
            </extension>
            <extension url="http://hl7.org/fhir/StructureDefinition/mimeType">
                <valueCode value="application/pdf" /> 
            </extension>
            <extension url="http://hl7.org/fhir/StructureDefinition/maxSize">
                <valueDecimal value="1" /> 
            </extension>              
            <linkId value="1.5.b" />
            <text value="Attach Proof of Citizenship" />
            <type value="attachment" />
        </item>
      </textarea>
    </div> 
  </div>
</div>

<a name="choice-restriction">  </a>
<h3>Choice Restriction</h3>
<a name="answeroptions"></a>
<h4>Using answerOption</h4>
<p>To restrict choices from a fixed list.</p>
<div class="tabs">
  <div class="tab">
    <input type="radio" id="tab-answeroptions-1" name="tab-answeroptions-group-2" checked="true"></input>
    <label for="tab-answeroptions-1">Sample Question</label>
    <div class="content-in-tab">
      <p>Choose your Province
          <select id="linkitem-2.1-option" name="province">
            <option value="Alberta">Alberta</option>
            <option value="BC">British Columbia</option>
            <option value="Manitoba">Manitoba</option>
            <option value="NewBrunswick">New Brunswick</option>
            <option value="NewfoundlandAndLabrador">Newfoundland and Labrador</option>
            <option value="NovaScotia">Nova Scotia</option>  
            <option value="Ontario">Ontario</option>              
            <option value="PrinceEdwardIsland">Prince Edward Island</option>
            <option value="Quebec">Quebec</option>
            <option value="Saskatchewan">Saskatchewan</option>
          </select></p>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-answeroptions-2" name="tab-answeroptions-group-2"></input>
    <label for="tab-answeroptions-2">JSON</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        "item": [
          {
            "linkId": "2.1.b",
            "text": "Choose your Province",
            "type": "choice",
            "answerOption": [
              {
                "valueCoding": {
                  "code": "Alberta",
                  "display": "Alberta"
                }
              },
              {
                "valueCoding": {
                  "code": "BritishColumbia",
                  "display": "British Columbia"
                }
              },
              {
                "valueCoding": {
                  "code": "Manitoba",
                  "display": "Manitoba"
                }
              },
              {
                "valueCoding": {
                  "code": "NewBrunswick",
                  "display": "New Brunswick"
                }
              },
              {
                "valueCoding": {
                  "code": "NewfoundlandAndLabrador",
                  "display": "Newfoundland and Labrador"
                }
              },
              {
                "valueCoding": {
                  "code": "NovaScotia",
                  "display": "Nova Scotia"
                }
              },
              {
                "valueCoding": {
                  "code": "Ontario",
                  "display": "Ontario"
                }
              },
              {
                "valueCoding": {
                  "code": "PrinceEdwardIsland",
                  "display": "Prince Edward Island"
                }
              },
              {
                "valueCoding": {
                  "code": "Quebec",
                  "display": "Quebec"
                }
              },
              {
                "valueCoding": {
                  "code": "Saskatchewan",
                  "display": "Saskatchewan"
                }
              }
            ]
          }
        ]
      </textarea>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-answeroptions-3" name="tab-answeroptions-group-2"></input>
    <label for="tab-answeroptions-3">XML</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        <item>
            <linkId value="2.1.b"/>
            <text value="Choose your Province"/>
            <type value="choice"/>
            <answerOption>
                <valueCoding>
                    <code value="Alberta"/>
                    <display value="Alberta"/>
                </valueCoding>
            </answerOption>
            <answerOption>
                <valueCoding>
                    <code value="BritishColumbia"/>
                    <display value="British Columbia"/>
                </valueCoding>
            </answerOption>
            <answerOption>
                <valueCoding>
                    <code value="Manitoba"/>
                    <display value="Manitoba"/>
                </valueCoding>
            </answerOption>
            <answerOption>
                <valueCoding>
                    <code value="NewBrunswick"/>
                    <display value="New Brunswick"/>
                </valueCoding>
            </answerOption>
            <answerOption>
                <valueCoding>
                    <code value="NewfoundlandAndLabrador"/>
                    <display value="Newfoundland and Labrador"/>
                </valueCoding>
            </answerOption>
            <answerOption>
                <valueCoding>
                    <code value="NovaScotia"/>
                    <display value="Nova Scotia"/>
                </valueCoding>
            </answerOption>
            <answerOption>
                <valueCoding>
                    <code value="Ontario"/>
                    <display value="Ontario"/>
                </valueCoding>
            </answerOption>
            <answerOption>
                <valueCoding>
                    <code value="PrinceEdwardIsland"/>
                    <display value="Prince Edward Island"/>
                </valueCoding>
            </answerOption>
            <answerOption>
                <valueCoding>
                    <code value="Quebec"/>
                    <display value="Quebec"/>
                </valueCoding>
            </answerOption>
            <answerOption>
                <valueCoding>
                    <code value="Saskatchewan"/>
                    <display value="Saskatchewan"/>
                </valueCoding>
            </answerOption>
        </item>
      </textarea>
    </div> 
  </div>
</div>

<a name="answervalueset"></a>
<h4>Using answerValueSet</h4>
<p>To restrict choices from a value set.</p>
<div class="tabs">
  <div class="tab">
    <input type="radio" id="tab-answervalueset-1" name="tab-answervalueset-group-2" checked="true"></input>
    <label for="tab-answervalueset-1">Sample Question</label>
    <div class="content-in-tab">
      <p>Activity Level
          <select id="linkitem-2.2-option" name="activity">
            <option value="LA10044-8">Often</option>
            <option value="LA10066-1">Rarely</option>
            <option value="LA10082-8">Sometimes</option>
            <option value="LA6270-8">Never</option>
            <option value="LA9933-8">Always</option>          
          </select></p>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-answervalueset-2" name="tab-answervalueset-group-2"></input>
    <label for="tab-answervalueset-2">JSON</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        "item": [
          {
            "linkId": "2.2.b",
            "text": "Activity Level",
            "type": "choice",
            "answerValueSet": "http://loinc.org/vs/LL4882-8"
          }
        ]
      </textarea>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-answervalueset-3" name="tab-answervalueset-group-2"></input>
    <label for="tab-answervalueset-3">XML</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        <item>
            <linkId value="2.2.b"/>
            <text value="Activity Level"/>
            <type value="choice"/>
            <answerValueSet value="http://loinc.org/vs/LL4882-8"/> 
        </item>
      </textarea>
    </div> 
  </div>
</div>

<a name="required"></a>
<h4>Using required</h4>
<p>To require an answer.</p>
<div class="tabs">
  <div class="tab">
    <input type="radio" id="tab-required-1" name="tab-required-group-2" checked="true"></input>
    <label for="tab-required-1">Sample Question</label>
    <div class="content-in-tab">
      <p>Email*<input id="linkitem-2.3-input" type="text"/></p>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-required-2" name="tab-required-group-2"></input>
    <label for="tab-required-2">JSON</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        "item": [
          {
            "linkId": "2.3.b",
            "text": "Email*",
            "type": "string",
            "required": true
          }
        ]
      </textarea>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-required-3" name="tab-required-group-2"></input>
    <label for="tab-required-3">XML</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        <item>
            <linkId value="2.3.b"/>
            <text value="Email*"/>
            <type value="string"/>
            <required value="true"/>
        </item>
      </textarea>
    </div> 
  </div>
</div>

<a name="readonly"></a>
<h4>Using readOnly</h4>
<p>To only display a populated answer and make it non-editable.</p>
<div class="tabs">
  <div class="tab">
    <input type="radio" id="tab-readonly-1" name="tab-readonly-group-2" checked="true"></input>
    <label for="tab-readonly-1">Sample Question</label>
    <div class="content-in-tab">
      <p>Current Date: <input id="linkitem-2.4-input" type="text" value="05/05/2020" disabled="true"></input></p>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-readonly-2" name="tab-readonly-group-2"></input>
    <label for="tab-readonly-2">JSON</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        "item": [
          {
            "extension": [
              {
                "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression",
                "valueExpression": {
                  "description": "current date",
                  "language": "text/fhirpath",
                  "expression": "today()"
                }
              }
            ],
            "linkId": "2.4.b",
            "text": "Current Date:",
            "type": "date",
            "readOnly": true
          }
        ]
      </textarea>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-readonly-3" name="tab-readonly-group-2"></input>
    <label for="tab-readonly-3">XML</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        <item>
            <extension url="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression">
                <valueExpression>
                    <description value="current date"/>
                    <language value="text/fhirpath"/>
                    <expression value="today()"/> 
                </valueExpression>
            </extension>
            <linkId value="2.4.b"/>
            <text value="Current Date:"/>
            <type value="date"/>
            <readOnly value="true"/>
        </item>
      </textarea>
    </div> 
  </div>
</div>

<a name="repeats"></a>
<h4>Using repeats</h4>
<p>To allow multiple answers, no limit.</p>
<div class="tabs">
  <div class="tab">
    <input type="radio" id="tab-repeats-1" name="tab-repeats-group-2" checked="true"></input>
    <label for="tab-repeats-1">Sample Question</label>
    <div class="content-in-tab">
      <p>Heart History (check all that applies):<br/>
         <input type="checkbox" name="heart_history" value="heartAttack"/> Heart attack<br/>
         <input type="checkbox" name="heart_history" value="heartSurgery"/> Heart surgery<br/> 
         <input type="checkbox" name="heart_history" value="cardiac"/> Cardiac catheterization<br/> 
         <input type="checkbox" name="heart_history" value="angioplasty"/> Coronary angioplasty (PTCA)<br/>
         <input type="checkbox" name="heart_history" value="pacemaker"/> Cardiac pacemaker<br/>
         <input type="checkbox" name="heart_history" value="other"/> Other (specify): <input id="linkitem-2.5-input" type="text"/>
      </p>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-repeats-2" name="tab-repeats-group-2"></input>
    <label for="tab-repeats-2">JSON</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        "item": [
          {
            "linkId": "2.5.b",
            "text": "Heart History (check all that applies)",
            "type": "open-choice",
            "repeats": true,
            "answerOption": [
              {
                "valueCoding": {
                  "code": "U1",
                  "display": "Heart attack"
                }
              },
              {
                "valueCoding": {
                  "code": "U2",
                  "display": "Heart surgery"
                }
              },
              {
                "valueCoding": {
                  "code": "U3",
                  "display": "Cardiac catheterization"
                }
              },
              {
                "valueCoding": {
                  "code": "U4",
                  "display": "Coronary angioplasty (PTCA)"
                }
              },
              {
                "valueCoding": {
                  "code": "U5",
                  "display": "Cardiac pacemaker"
                }
              }
            ]
          }
        ]
      </textarea>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-repeats-3" name="tab-repeats-group-2"></input>
    <label for="tab-repeats-3">XML</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        <item>
            <linkId value="2.5.b"/>
            <text value="Heart History (check all that applies)"/>
            <type value="open-choice"/>
            <repeats value="true"/>
            <answerOption>
                <valueCoding>
                    <code value="U1"/>
                    <display value="Heart attack"/>
                </valueCoding>
            </answerOption>
            <answerOption>
                <valueCoding>
                    <code value="U2"/>
                    <display value="Heart surgery"/>
                </valueCoding>
            </answerOption>
            <answerOption>
                <valueCoding>
                    <code value="U3"/>
                    <display value="Cardiac catheterization"/>
                </valueCoding>
            </answerOption>
            <answerOption>
                <valueCoding>
                    <code value="U4"/>
                    <display value="Coronary angioplasty (PTCA)"/>
                </valueCoding>
            </answerOption>            
            <answerOption>
                <valueCoding>
                    <code value="U5"/>
                    <display value="Cardiac pacemaker"/>
                </valueCoding>
            </answerOption>          
        </item>
      </textarea>
    </div> 
  </div>
</div>

<a name="minoccurs"></a>
<h4>Using minOccurs</h4>
<p>Must have at least to 2 answers.</p>
<div class="tabs">
  <div class="tab">
    <input type="radio" id="tab-minoccurs-1" name="tab-minoccurs-group-2" checked="true"></input>
    <label for="tab-minoccurs-1">Sample Question</label>
    <div class="content-in-tab">
      <p>Heart History (check at least 2):<br/>
         <input type="checkbox" name="heart_history" value="heartAttack"/> Heart attack<br/>
         <input type="checkbox" name="heart_history" value="heartSurgery"/> Heart surgery<br/> 
         <input type="checkbox" name="heart_history" value="cardiac"/> Cardiac catheterization<br/> 
         <input type="checkbox" name="heart_history" value="angioplasty"/> Coronary angioplasty (PTCA)<br/>
         <input type="checkbox" name="heart_history" value="pacemaker"/> Cardiac pacemaker<br/>
      </p>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-minoccurs-2" name="tab-minoccurs-group-2"></input>
    <label for="tab-minoccurs-2">JSON</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        "item": [
           {
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-minOccurs",
                "valueInteger": 2
              }
            ],
            "linkId": "2.6.b",
            "text": "Heart History (check at least 2):",
            "type": "choice",
            "required": true,
            "repeats": true,
            "answerOption": [
              {
                "valueCoding": {
                  "code": "U1",
                  "display": "Heart attack"
                }
              },
              {
                "valueCoding": {
                  "code": "U2",
                  "display": "Heart surgery"
                }
              },
              {
                "valueCoding": {
                  "code": "U3",
                  "display": "Cardiac catheterization"
                }
              },
              {
                "valueCoding": {
                  "code": "U4",
                  "display": "Coronary angioplasty (PTCA)"
                }
              },
              {
                "valueCoding": {
                  "code": "U5",
                  "display": "Cardiac pacemaker"
                }
              }
            ]
          }
        ]
      </textarea>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-minoccurs-3" name="tab-minoccurs-group-2"></input>
    <label for="tab-minoccurs-3">XML</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        <item>
            <extension url="http://hl7.org/fhir/StructureDefinition/questionnaire-minOccurs">
                <valueInteger value="2"/> 
            </extension>
            <linkId value="2.6.b"/>
            <text value="Heart History (check at least 2):"/>
            <type value="choice"/>
            <required value="true"/>
            <repeats value="true"/>
            <answerOption>
                <valueCoding>
                    <code value="U1"/>
                    <display value="Heart attack"/>
                </valueCoding>
            </answerOption>
            <answerOption>
                <valueCoding>
                    <code value="U2"/>
                    <display value="Heart surgery"/>
                </valueCoding>
            </answerOption>
            <answerOption>
                <valueCoding>
                    <code value="U3"/>
                    <display value="Cardiac catheterization"/>
                </valueCoding>
            </answerOption>
            <answerOption>
                <valueCoding>
                    <code value="U4"/>
                    <display value="Coronary angioplasty (PTCA)"/>
                </valueCoding>
            </answerOption>            
            <answerOption>
                <valueCoding>
                    <code value="U5"/>
                    <display value="Cardiac pacemaker"/>
                </valueCoding>
            </answerOption>
        </item>
      </textarea>
    </div> 
  </div>
</div>

<a name="maxoccurs"></a>
<h4>Using maxOccurs</h4>
<p>Can only have up to 3 answers.</p>
<div class="tabs">
  <div class="tab">
    <input type="radio" id="tab-maxoccurs-1" name="tab-maxoccurs-group-2" checked="true"></input>
    <label for="tab-maxoccurs-1">Sample Question</label>
    <div class="content-in-tab">
      <p>Heart History (check no more than 3):<br/>
         <input type="checkbox" name="heart_history" value="heartAttack"/> Heart attack<br/>
         <input type="checkbox" name="heart_history" value="heartSurgery"/> Heart surgery<br/> 
         <input type="checkbox" name="heart_history" value="cardiac"/> Cardiac catheterization<br/> 
         <input type="checkbox" name="heart_history" value="angioplasty"/> Coronary angioplasty (PTCA)<br/>
         <input type="checkbox" name="heart_history" value="pacemaker"/> Cardiac pacemaker<br/>
      </p>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-maxoccurs-2" name="tab-maxoccurs-group-2"></input>
    <label for="tab-maxoccurs-2">JSON</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        "item": [
          {
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-maxOccurs",
                "valueInteger": 3
              }
            ],
            "linkId": "2.7.b",
            "text": "Heart History (check no more than 3):",
            "type": "choice",
            "required": true,
            "repeats": true,
            "answerOption": [
              {
                "valueCoding": {
                  "code": "U1",
                  "display": "Heart attack"
                }
              },
              {
                "valueCoding": {
                  "code": "U2",
                  "display": "Heart surgery"
                }
              },
              {
                "valueCoding": {
                  "code": "U3",
                  "display": "Cardiac catheterization"
                }
              },
              {
                "valueCoding": {
                  "code": "U4",
                  "display": "Coronary angioplasty (PTCA)"
                }
              },
              {
                "valueCoding": {
                  "code": "U5",
                  "display": "Cardiac pacemaker"
                }
              }
            ]
          }
        ]
      </textarea>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-maxoccurs-3" name="tab-maxoccurs-group-2"></input>
    <label for="tab-maxoccurs-3">XML</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        <item>
            <extension url="http://hl7.org/fhir/StructureDefinition/questionnaire-maxOccurs">
                <valueInteger value="3"/> 
            </extension>
            <linkId value="2.7.b"/>
            <text value="Heart History (check no more than 3):"/>
            <type value="choice"/>
            <required value="true"/>
            <repeats value="true"/>
            <answerOption>
                <valueCoding>
                    <code value="U1"/>
                    <display value="Heart attack"/>
                </valueCoding>
            </answerOption>
            <answerOption>
                <valueCoding>
                    <code value="U2"/>
                    <display value="Heart surgery"/>
                </valueCoding>
            </answerOption>
            <answerOption>
                <valueCoding>
                    <code value="U3"/>
                    <display value="Cardiac catheterization"/>
                </valueCoding>
            </answerOption>
            <answerOption>
                <valueCoding>
                    <code value="U4"/>
                    <display value="Coronary angioplasty (PTCA)"/>
                </valueCoding>
            </answerOption>            
            <answerOption>
                <valueCoding>
                    <code value="U5"/>
                    <display value="Cardiac pacemaker"/>
                </valueCoding>
            </answerOption>
        </item>
      </textarea>
    </div> 
  </div>
</div>

<a name="unitoption"></a>
<h4>Using unitOption</h4>
<p>Restrict unit choices using unit options.</p>
<div class="tabs">
  <div class="tab">
    <input type="radio" id="tab-unitoption-1" name="tab-unitoption-group-2" checked="true"></input>
    <label for="tab-unitoption-1">Sample Question</label>
    <div class="content-in-tab">
      <p>Dosage <input id="linkitem-2.8-input" type="text"/>
          <select id="linkitem-2.8-option" name="activity">
            <option value="ml">ml</option>
            <option value="liters">liters</option>
            <option value="mg">mg</option>
            <option value="grams">grams</option>
          </select></p>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-unitoption-2" name="tab-unitoption-group-2"></input>
    <label for="tab-unitoption-2">JSON</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        "item": [
          {
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-unitOption",
                "valueCoding": {
                  "code": "ml",
                  "display": "ml"
                }
              },
              {
                "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-unitOption",
                "valueCoding": {
                  "code": "liters",
                  "display": "liters"
                }
              },
              {
                "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-unitOption",
                "valueCoding": {
                  "code": "mg",
                  "display": "mg"
                }
              },
              {
                "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-unitOption",
                "valueCoding": {
                  "code": "grams",
                  "display": "grams"
                }
              }
            ],
            "linkId": "2.8.b",
            "text": "Dosage",
            "type": "quantity"
          }
        ]
      </textarea>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-unitoption-3" name="tab-unitoption-group-2"></input>
    <label for="tab-unitoption-3">XML</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        <item>
            <extension url="http://hl7.org/fhir/StructureDefinition/questionnaire-unitOption">
                <valueCoding>
                    <code value="ml"/>
                    <display value="ml"/>
                </valueCoding>
            </extension>
            <extension url="http://hl7.org/fhir/StructureDefinition/questionnaire-unitOption">
                <valueCoding>
                    <code value="liters"/>
                    <display value="liters"/>
                </valueCoding>
            </extension>
            <extension url="http://hl7.org/fhir/StructureDefinition/questionnaire-unitOption">
                <valueCoding>
                    <code value="mg"/>
                    <display value="mg"/>
                </valueCoding>
            </extension>
            <extension url="http://hl7.org/fhir/StructureDefinition/questionnaire-unitOption">
                <valueCoding>
                    <code value="grams"/>
                    <display value="grams"/>
                </valueCoding>
            </extension>
            <linkId value="2.8.b"/>
            <text value="Dosage"/>
            <type value="quantity"/>
        </item>
      </textarea>
    </div> 
  </div>
</div>

<a name="unitvalueset"></a>
<h4>Using unitValueSet</h4>
<p>Restrict unit choices from a value set.</p>
<div class="tabs">
  <div class="tab">
    <input type="radio" id="tab-unitvalueset-1" name="tab-unitvalueset-group-2" checked="true"></input>
    <label for="tab-unitvalueset-1">Sample Question</label>
    <div class="content-in-tab">
      <p>Specify age: <input id="linkitem-2.9-input" type="text"/> 
          <select id="linkitem-2.9-option" name="units">
            <option value="minutes">minutes</option>
            <option value="hours">hours</option>
            <option value="days">days</option>
            <option value="weeks">weeks</option>
            <option value="months">months</option>
            <option value="years">years</option>
          </select></p>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-unitvalueset-2" name="tab-unitvalueset-group-2"></input>
    <label for="tab-unitvalueset-2">JSON</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        "item": [
          {
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-unitValueSet",
                "valueCanonical": "http://hl7.org/fhir/ValueSet/age-units"
              }
            ],
            "linkId": "2.9.b",
            "text": "Specify age:",
            "type": "quantity"
          }
        ]
      </textarea>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-unitvalueset-3" name="tab-unitvalueset-group-2"></input>
    <label for="tab-unitvalueset-3">XML</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        <item>
            <extension url="http://hl7.org/fhir/StructureDefinition/questionnaire-unitValueSet">
              <valueCanonical value="http://hl7.org/fhir/ValueSet/age-units"/>
            </extension>
            <linkId value="2.9.b"/>
            <text value="Specify age:"/>
            <type value="quantity"/>
        </item>
      </textarea>
    </div> 
  </div>
</div>
<!-- TODO: fix unit samples -->

<a name="reference-resource-profile-lookup"></a>
<h4>Using referenceResource, referenceProfile and lookupQuestionnaire</h4>
<p>Only allow a service animal resource as an answer.</p>
<div class="tabs">
  <div class="tab">
    <input type="radio" id="tab-reference-resource-profile-lookup-1" name="tab-reference-resource-profile-lookup-group-2" checked="true"></input>
    <label for="tab-reference-resource-profile-lookup-1">Sample Question</label>
    <div class="content-in-tab">
      <p>Select your preferred service animal:
          <select id="linkitem-2.10-option" name="activity">
            <option value="Level0">Lassie</option>
            <option value="Level1">St. Peters</option>
            <option value="Level2">Coco</option>
          </select></p>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-reference-resource-profile-lookup-2" name="tab-reference-resource-profile-lookup-group-2"></input>
    <label for="tab-reference-resource-profile-lookup-2">JSON</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        "item": [
          {
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-referenceResource",
                "valueCode": "Practitioner"
              },
              {
                "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-referenceProfile",
                "valueCanonical": "http://hl7.org/fhir/StructureDefinition/practitioner-animalSpecies"
              },

              {
                "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-lookupQuestionnaire",
                "valueUri": "http://mysite.com/Questionnaire/1234"
              }
            ],
            "linkId": "2.10.b",
            "text": "Select your preferred service animal:",
            "type": "reference"
          }
        ]
      </textarea>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-reference-resource-profile-lookup-3" name="tab-reference-resource-profile-lookup-group-2"></input>
    <label for="tab-reference-resource-profile-lookup-3">XML</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        <item>
            <extension url="http://hl7.org/fhir/StructureDefinition/questionnaire-referenceResource">
                <valueCode value="Practitioner"/>
            </extension>
            <extension url="http://hl7.org/fhir/StructureDefinition/questionnaire-referenceProfile">
                <valueCanonical value="http://hl7.org/fhir/StructureDefinition/practitioner-animalSpecies"/> 
            </extension>
            <extension url="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-lookupQuestionnaire">
                <valueUri value="http://mysite.com/Questionnaire/1234"/>
            </extension>
            <linkId value="2.10.b"/>
            <text value="Select your preferred service animal:"/>
            <type value="reference"/>
        </item>
      </textarea>
    </div> 
  </div>
</div>
<!-- TODO: validate -->

<a name="calculation">  </a>
<h3>Calculation</h3>
<a name="initialexpression"></a>
<h4>Using initialExpression</h4>
<p>Example with an initial expression.</p>
<div class="tabs">
  <div class="tab">
    <input type="radio" id="tab-initialexpression-1" name="tab-initialexpression-group-2" checked="true"></input>
    <label for="tab-initialexpression-1">Sample Question</label>
    <div class="content-in-tab">
      <p>Deadline for submission (7 days from now) <input id="linkitem-3.1-input" type="text" value="05/05/2020" disabled="true"/></p>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-initialexpression-2" name="tab-initialexpression-group-2"></input>
    <label for="tab-initialexpression-2">JSON</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        "item": [
          {
            "extension": [
              {
                "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression",
                "valueExpression": {
                  "description": "deadline for submission",
                  "language": "text/fhirpath",
                  "expression": "today() + 7 days"
                }
              }
            ],
            "linkId": "3.1.b",
            "text": "Deadline for submission (7 days from now)",
            "type": "date",
            "readOnly": true
          }
        ]
      </textarea>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-initialexpression-3" name="tab-initialexpression-group-2"></input>
    <label for="tab-initialexpression-3">XML</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
      <item>
          <extension url="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression">
              <valueExpression>
                  <description value="deadline for submission"/>
                  <language value="text/fhirpath"/>
                  <expression value="today() + 7 days"/> 
              </valueExpression>
          </extension>
          <linkId value="3.1.b"/>
          <text value="Deadline for submission (7 days from now)"/>
          <type value="date"/>
          <readOnly value="true"/>
      </item>
      </textarea>
    </div> 
  </div>
</div>

<a name="launchContext"></a>
<h4>Using launchContext</h4>
<p>To set resources that provide context for form processing logic.</p>
<div class="tabs">
  <div class="tab">
    <input type="radio" id="tab-launchcontext-1" name="tab-launchcontext-group-2" checked="true"></input>
    <label for="tab-launchcontext-1">Sample Question</label>
    <div class="content-in-tab">
      <p><b>Last Name:</b> Hamilton<br/>
         <b>First Name:</b> William<br/>
         <b>Gender:</b> male</p>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-launchcontext-2" name="tab-launchcontext-group-2"></input>
    <label for="tab-launchcontext-2">JSON</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        "extension": [
          {
            "extension": [
              {
                "url": "name",
                "valueId": "LaunchPatient"
              },
              {
                "url": "type",
                "valueCode": "Patient"
              },
              {
                "url": "description",
                "valueString": "The patient that is to be used to pre-populate the form"
              }
            ],
            "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-launchContext"
          }
        ],
        "item": [
          {
            "_linkId": {
              "id": "1.0"
            },
            "type": "group",
            "item": [
              {
                "extension": [
                  {
                    "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression",
                    "valueExpression": {
                      "description": "patient's last name",
                      "language": "text/fhirpath",
                      "expression": "%LaunchPatient.name.where(use='official').given.first()"
                    }
                  }
                ],
                "linkId": "1.1",
                "text": "Last Name:",
                "type": "string",
                "readOnly": true
              },
              {
                "extension": [
                  {
                    "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression",
                    "valueExpression": {
                      "description": "patient's first name",
                      "language": "text/fhirpath",
                      "expression": "%LaunchPatient.name.where(use='official').family()"
                    }
                  }
                ],
                "linkId": "1.1",
                "text": "First Name:",
                "type": "string",
                "readOnly": true
              },
              {
                "extension": [
                  {
                    "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression",
                    "valueExpression": {
                      "description": "patient's gender",
                      "language": "text/fhirpath",
                      "expression": "%LaunchPatient.gender"
                    }
                  }
                ],
                "linkId": "1.1",
                "text": "Gender:",
                "type": "string",
                "readOnly": true
              }
            ]
          }
        ]
     </textarea>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-launchcontext-3" name="tab-launchcontext-group-2"></input>
    <label for="tab-launchcontext-3">XML</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        <extension url="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-launchContext">
          <extension url="name">
            <valueId value="LaunchPatient"/>
          </extension>
          <extension url="type">
            <valueCode value="Patient"/>
          </extension>
          <extension url="description">
            <valueString value="The patient that is to be used to pre-populate the form"/>
          </extension>
        </extension>
        <item>
          <linkId id="1.0"/>
          <type value="group"/>
          <item>
            <extension url="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression">
               <valueExpression>
                  <description value="patient's last name"/>
                  <language value="text/fhirpath"/>
                  <expression value="%LaunchPatient.name.where(use='official').given.first()"/> 
               </valueExpression>
            </extension>
            <linkId value="1.1"/>
            <text value="Last Name:"/>
            <type value="string"/>
            <readOnly value="true"/>
          </item>
          <item>
            <extension url="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression">
               <valueExpression>
                  <description value="patient's first name"/>
                  <language value="text/fhirpath"/>
                  <expression value="%LaunchPatient.name.where(use='official').family()"/> 
               </valueExpression>
            </extension>
            <linkId value="1.2"/>
            <text value="First Name:"/>
            <type value="string"/>
            <readOnly value="true"/>
          </item>
          <item>
            <extension url="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression">
               <valueExpression>
                  <description value="patient's gender"/>
                  <language value="text/fhirpath"/>
                  <expression value="%LaunchPatient.gender"/> 
               </valueExpression>
            </extension>
            <linkId value="1.3"/>
            <text value="Gender:"/>
            <type value="string"/>
            <readOnly value="true"/>
          </item>
        </item>
      </textarea>
    </div> 
  </div>
</div>

<a name="calculatedexpression"></a>
<h4>Using calculatedExpression and variable</h4>
<p>Example with a calculated expression.<br/>
   Note: The questions below are not functional. The BMI will not calculated and displayed after input.
</p>
<div class="tabs">
  <div class="tab">
    <input type="radio" id="tab-calculatedexpression-1" name="tab-calculatedexpression-group-2" checked="true"></input>
    <label for="tab-calculatedexpression-1">Sample Question</label>
    <div class="content-in-tab">
      <p>Weight (kg) <input id="linkitem-3.2.1-input" type="text"/><br/>
          Body Height (inches)<input id="linkitem-3.2.2-input" type="text"/><br/>
          Your Body Mass Index (BMI) is <input id="linkitem-3.2.3-input" type="text" disabled="true"></input></p>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-calculatedexpression-2" name="tab-calculatedexpression-group-2"></input>
    <label for="tab-calculatedexpression-2">JSON</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        {
          "resourceType": "Questionnaire",
          "extension": [
            {
              "url": "http://hl7.org/fhir/StructureDefinition/variable",
              "valueExpression": {
                "name": "weight",
                "language": "text/fhirpath",
                "expression": "%resource.repeat(item).where(linkId='3.2.b').item.answer.valueDecimal"
              }
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/variable",
              "valueExpression": {
                "name": "height",
                "language": "text/fhirpath",
                "expression": "%resource.repeat(item).where(linkId='3.2.c').item.answer.valueDecimal*0.0254"
              }
            }
          ],
          "item": [
            {
              "extension": [
                {
                  "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-unit",
                  "valueCoding": {
                    "system": "http://unitsofmeasure.org",
                    "code": "kg"
                  }
                }
              ],
              "linkId": "3.2.b",
              "text": "Weight (kg)",
              "type": "decimal"
            },
            {
              "extension": [
                {
                  "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-unit",
                  "valueCoding": {
                    "system": "http://unitsofmeasure.org",
                    "code": "[in_i]"
                  }
                }
              ],
              "linkId": "3.2.c",
              "text": "Body Height (inches)",
              "type": "decimal"
            },
            {
              "extension": [
                {
                  "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-calculatedExpression",
                  "valueExpression": {
                    "description": "BMI Calculation",
                    "language": "text/fhirpath",
                    "expression": "(%weight/(%height.power(2))).round(1)"
                  }
                }
              ],
              "linkId": "3.2.d",
              "text": "Your Body Mass Index (BMI) is ",
              "type": "decimal",
              "readOnly": true
            }
          ]
        }
      </textarea>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-calculatedexpression-3" name="tab-calculatedexpression-group-2"></input>
    <label for="tab-calculatedexpression-3">XML</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        <Questionnaire>
          <extension
            url="http://hl7.org/fhir/StructureDefinition/variable">
            <valueExpression>
              <name value="weight" />
              <language value="text/fhirpath" />
              <expression
                value="%resource.repeat(item).where(linkId='3.2.b').item.answer.valueDecimal" />
            </valueExpression>
          </extension>
          <extension
            url="http://hl7.org/fhir/StructureDefinition/variable">
            <valueExpression>
              <name value="height" />
              <language value="text/fhirpath" />
              <expression
                value="%resource.repeat(item).where(linkId='3.2.c').item.answer.valueDecimal*0.0254" />
            </valueExpression>
          </extension>
          <item>
            <extension
              url="http://hl7.org/fhir/StructureDefinition/questionnaire-unit">
              <valueCoding>
                <system value="http://unitsofmeasure.org" />
                <code value="kg" />
              </valueCoding>
            </extension>
            <linkId value="3.2.b" />
            <text value="Weight (kg)" />
            <type value="decimal" />
          </item>
          <item>
            <extension
              url="http://hl7.org/fhir/StructureDefinition/questionnaire-unit">
              <valueCoding>
                <system value="http://unitsofmeasure.org" />
                <code value="[in_i]" />
              </valueCoding>
            </extension>
            <linkId value="3.2.c" />
            <text value="Body Height (inches)" />
            <type value="decimal" />
          </item>
          <item>
            <extension
              url="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-calculatedExpression">
              <valueExpression>
                <description value="BMI Calculation" />
                <language value="text/fhirpath" />
                <expression
                  value="(%weight/(%height.power(2))).round(1)" />
              </valueExpression>
            </extension>
            <linkId value="3.2.d" />
            <text value="Your Body Mass Index (BMI) is " />
            <type value="decimal" />
            <readOnly value="true" />
          </item>
        </Questionnaire>
      </textarea>
    </div> 
  </div>
</div>

<a name="cqf"></a>
<h4>Using cqf-calculatedValue and cqf-library</h4>
<p>Example with a CQF calculated value.</p>
<div class="tabs">
  <div class="tab">
    <input type="radio" id="tab-cqf-1" name="tab-cqf-group-2" checked="true"></input>
    <label for="tab-cqf-1">Sample Question</label>
    <div class="content-in-tab">
      <p>Estimated Due Date <input id="linkitem-3.3-input" type="text" value="07/07/2020" disabled="false"/></p>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-cqf-2" name="tab-cqf-group-2"></input>
    <label for="tab-cqf-2">JSON</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        "extension": [
          {
            "url": "http://hl7.org/fhir/StructureDefinition/cqf-library",
            "valueString": "Library/MotherInfantMeasure"
          }
        ],
        "item": [
          {
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/cqf-calculatedValue",
                "valueString": "estimated_due_date"
              }
            ],
            "linkId": "3.3.b",
            "text": "Estimated Due Date",
            "type": "date",
            "readOnly": true
          }
        ]
      </textarea>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-cqf-3" name="tab-cqf-group-2"></input>
    <label for="tab-cqf-3">XML</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        <extension url="http://hl7.org/fhir/StructureDefinition/cqf-library">
          <valueCanonical value="Library/MotherInfantMeasure"/>
        </extension>      
        <item>
            <extension url="http://hl7.org/fhir/StructureDefinition/cqf-calculatedValue" >
                <valueString value="estimated_due_date"/>
            </extension>
            <linkId value="3.3.b"/> 
            <text value="Estimated Due Date"/>
            <type value="date"/>
            <readOnly value="true"/>
        </item>
      </textarea>
    </div> 
  </div>
</div>
<!-- TODO: add a format for dates -->

<a name="othercontrols">  </a>
<h3>Other Controls</h3>
<a name="initial"></a>
<h4>Using initial</h4>
<p>Example of options with initial value.</p>
<div class="tabs">
  <div class="tab">
    <input type="radio" id="tab-initial-1" name="tab-initial-group-2" checked="true"></input>
    <label for="tab-initial-1">Sample Question</label>
    <div class="content-in-tab">
      <p>Marital Status
          <select id="gender" name="genderOptions">
            <option value="male selected">Single</option>
            <option value="female">Married</option>
            <option value="other" selected="true">Divorced</option>
            <option value="unknown">Widowed</option>
          </select></p>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-initial-2" name="tab-initial-group-2"></input>
    <label for="tab-initial-2">JSON</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        "item": [
          {
            "linkId": "4.1.b",
            "text": "Marital Status",
            "type": "choice",
            "answerValueSet": "http://hl7.org/fhir/ValueSet/marital-status",
            "initial": [
              {
                "valueCoding": {
                  "system": "http://hl7.org/fhir/ValueSet/marital-status",
                  "code": "D",
                  "display": "Divorced"
                }
              }
            ]
          }
        ]
      </textarea>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-initial-3" name="tab-initial-group-2"></input>
    <label for="tab-initial-3">XML</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        <item>
            <linkId value="4.1.b"/>
            <text value="Marital Status"/>
            <type value="choice"/>
            <answerValueSet value="http://hl7.org/fhir/ValueSet/marital-status"/>
            <initial>
                <valueCoding>
                    <system value="http://hl7.org/fhir/ValueSet/marital-status"/>
                    <code value="D"/>
                    <display value="Divorced"/>
                </valueCoding>
            </initial>
        </item>
      </textarea>
    </div> 
  </div>
</div>

<a name="enableexamples"></a>
<h4>Using enableWhen, enableBehavior, and enableWhenExpression</h4>
<p>Example of enabling behaviors.<br/>
   Note: The questions below are not functional. Display does not show actual enabling behaviors.
</p>
<div class="tabs" style="height:350px">
  <div class="tab">
    <input type="radio" id="tab-enableexamples-1" name="tab-enableexamples-group-2" checked="true"></input>
    <label for="tab-enableexamples-1">Sample Question</label>
    <div class="content-in-tab">
      <p>Choose Gender    
          <select id="linkitem-4.2.1" name="genderOptions">
            <option value="male">Male</option>
            <option value="female">Female</option>
            <option value="other">Other</option>
            <option value="unknown">Unknown</option>
          </select><br/><br/>
          Are you pregnant? (enableWhen gender = Female)<br/>
          <input type="radio" id="yes" name="yesnodontknow" value="Y"> Yes  </input>
          <input type="radio" id="no" name="yesnodontknow" value="N"> No  </input>
          <input type="radio" id="no" name="yesnodontknow" value="asked-unknown"> Don't know  </input><br/><br/>
          Are you diabetic? (enableWhen gender = Female)<br/>
          <input type="radio" id="yes" name="yesnodontknow" value="Y"> Yes  </input>
          <input type="radio" id="no" name="yesnodontknow" value="N"> No  </input>
          <input type="radio" id="no" name="yesnodontknow" value="asked-unknown"> Don't know  </input><br/><br/>
          Have you been diagnosed with Gestational Diabetes? (enableBehavior = only when pregnant and diabetic)<br/>
          <input type="radio" id="yes" name="yesnodontknow" value="Y"> Yes  </input>
          <input type="radio" id="no" name="yesnodontknow" value="N"> No  </input>
          <input type="radio" id="no" name="yesnodontknow" value="asked-unknown"> Don't know  </input><br/><br/>
          Enter your birthdate (MM/DD/YYYY)<br/>
          <input id="linkitem-2.2-input" type="text"></input><br/><br/>
          Have you had mammogram before?(enableWhenExpression = only when gender is female and age > 40)<br/>
          <input type="radio" id="yes" name="yesnodontknow" value="Y"> Yes  </input>
          <input type="radio" id="no" name="yesnodontknow" value="N"> No  </input>
          <input type="radio" id="no" name="yesnodontknow" value="asked-unknown"> Don't know  </input><br/>
      </p>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-enableexamples-2" name="tab-enableexamples-group-2"></input>
    <label for="tab-enableexamples-2">JSON</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        "item": [
          {
            "linkId": "4.2.b",
            "type": "group",
            "item": [
              {
                "linkId": "4.2.b.1",
                "text": "Choose Gender",
                "type": "choice",
                "answerValueSet": "http://hl7.org/fhir/ValueSet/administrative-gender"
              },
              {
                "linkId": "4.2.b.2",
                "text": "Are you pregnant? (enableWhen = gender is Female)",
                "type": "choice",
                "enableWhen": [
                  {
                    "question": "4.2.b.1",
                    "operator": "=",
                    "answerCoding": {
                      "system": "http://hl7.org/fhir/administrative-gender",
                      "code": "female"
                    }
                  }
                ],
                "answerValueSet": "http://hl7.org/fhir/ValueSet/yesnodontknow"
              },
              {
                "linkId": "4.2.b.3",
                "text": "Are you diabetic? (enableWhen = gender is Female)",
                "type": "choice",
                "enableWhen": [
                  {
                    "question": "4.2.b.1",
                    "operator": "=",
                    "answerCoding": {
                      "system": "http://hl7.org/fhir/administrative-gender",
                      "code": "female"
                    }
                  }
                ],
                "answerValueSet": "http://hl7.org/fhir/ValueSet/yesnodontknow"
              },
              {
                "linkId": "4.2.b.4",
                "text": "Have you been diagnosed with Gestational Diabetes? (enableBehavior = only when pregnant and diabetic)",
                "type": "choice",
                "enableWhen": [
                  {
                    "question": "4.2.b.2",
                    "operator": "=",
                    "answerCoding": {
                      "system": "http://terminology.hl7.org/CodeSystem/v2-0136",
                      "code": "Y"
                    }
                  },
                  {
                    "question": "4.2.b.3",
                    "operator": "=",
                    "answerCoding": {
                      "system": "http://terminology.hl7.org/CodeSystem/v2-0136",
                      "code": "Y"
                    }
                  }
                ],
                "enableBehavior": "all",
                "answerValueSet": "http://hl7.org/fhir/ValueSet/yesnodontknow"
              },
              {
                "extension": [
                  {
                    "url": "http://hl7.org/fhir/StructureDefinition/entryFormat",
                    "valueString": "MM/DD/YYYY"
                  }
                ],
                "linkId": "4.2.b.5",
                "text": "Enter your birthdate (MM/DD/YYYY)",
                "type": "date",
                "answerValueSet": "http://hl7.org/fhir/ValueSet/administrative-gender"
              },
              {
                "extension": [
                  {
                    "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-enableWhenExpression",
                    "valueExpression": {
                      "description": "if last 2 questions were answered",
                      "language": "text/fhirpath",
                      "expression": "%resource.repeats(item).where(linkId='4.2.b.1').answer.valueCoding.code ='female' and today().toString().substring(0, 4).toInteger() - %resource.repeats(item).where(linkId='4.2.b.5').answer.toString().substring(0, 4).toInteger() >= 40"
                    }
                  }
                ],
                "linkId": "4.2.b.6",
                "text": "Have you had mammogram before?(enableWhenExpression = only when gender is female and age > 40)",
                "type": "choice",
                "answerValueSet": "http://hl7.org/fhir/ValueSet/yesnodontknow"
              }
            ]
          }
        ]
      </textarea>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-enableexamples-3" name="tab-enableexamples-group-2"></input>
    <label for="tab-enableexamples-3">XML</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        <item>
          <linkId value="4.2.b"/>
          <type value="group"/>
          <item>
              <linkId value="4.2.b.1"/>
              <text value="Choose Gender"/>
              <type value="choice"/>
              <answerValueSet value="http://hl7.org/fhir/ValueSet/administrative-gender"/>
          </item>            
          <item>
              <linkId value="4.2.b.2"/>
              <text value="Are you pregnant? (enableWhen = gender is Female)"/>
              <type value="choice"/>
              <enableWhen>
                  <question value="4.2.b.1"/>
                  <operator value="="/>
                  <answerCoding>
                      <system value="http://hl7.org/fhir/administrative-gender"/>
                      <code value="female"/>
                  </answerCoding>
              </enableWhen>
              <answerValueSet value="http://hl7.org/fhir/ValueSet/yesnodontknow"/>
          </item>
          <item>
              <linkId value="4.2.b.3"/>
              <text value="Are you diabetic? (enableWhen = gender is Female)"/>
              <type value="choice"/>
              <enableWhen>
                  <question value="4.2.b.1"/>
                  <operator value="="/>
                  <answerCoding>
                      <system value="http://hl7.org/fhir/administrative-gender"/>
                      <code value="female"/>
                  </answerCoding>
              </enableWhen>
              <answerValueSet value="http://hl7.org/fhir/ValueSet/yesnodontknow"/>
          </item>
          <item>
              <linkId value="4.2.b.4"/>
              <text value="Have you been diagnosed with Gestational Diabetes? (enableBehavior = only when pregnant and diabetic)"/>
              <type value="choice"/>
              <enableWhen>
                  <question value="4.2.b.2"/>
                  <operator value="="/>
                  <answerCoding>
                      <system value="http://terminology.hl7.org/CodeSystem/v2-0136"/>
                      <code value="Y"/>
                  </answerCoding>
              </enableWhen>
              <enableWhen>
                  <question value="4.2.b.3"/>
                  <operator value="="/>
                  <answerCoding>
                      <system value="http://terminology.hl7.org/CodeSystem/v2-0136"/>
                      <code value="Y"/>
                  </answerCoding>
              </enableWhen>
              <enableBehavior value="all"/>
              <answerValueSet value="http://hl7.org/fhir/ValueSet/yesnodontknow"/>
          </item>
          <item>
              <extension url="http://hl7.org/fhir/StructureDefinition/entryFormat">
                  <valueString value="MM/DD/YYYY"/>
              </extension>            
              <linkId value="4.2.b.5"/>
              <text value="Enter your birthdate (MM/DD/YYYY)"/>
              <type value="date"/>
              <answerValueSet value="http://hl7.org/fhir/ValueSet/administrative-gender"/>
          </item>
          <item>
              <extension url="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-enableWhenExpression">
                  <valueExpression>
                      <description value="if last 2 questions were answered"/>
                      <language value="text/fhirpath"/>
                      <expression value="%resource.repeats(item).where(linkId='4.2.b.1').answer.valueCoding.code ='female' and today().toString().substring(0, 4).toInteger() - %resource.repeats(item).where(linkId='4.2.b.5').answer.toString().substring(0, 4).toInteger() >= 40"/>
                  </valueExpression>
              </extension>  
              <linkId value="4.2.b.6"/>
              <text value="Have you had mammogram before?(enableWhenExpression = only when gender is female and age > 40)"/>
              <type value="choice"/>
              <answerValueSet value="http://hl7.org/fhir/ValueSet/yesnodontknow"/>
          </item>
        </item>
      </textarea>
    </div> 
  </div>
</div>
<!-- TODO: try to make UI more dynamic -->

<a name="ordinalvalue-constraint"></a>
<h4>Using ordinalValue and constraint</h4>
<p>Example involving ordinal value and contraints.<br/>
   Note: The questions below are not functional. The total score will not be calculated and displayed after input.
</p>
<div class="tabs" style="height:400px">
  <div class="tab">
    <input type="radio" id="tab-ordinalvalue-constraint-1" name="tab-ordinalvalue-constraint-group-2" checked="true"></input>
    <label for="tab-ordinalvalue-constraint-1">Sample Question</label>
    <div class="content-in-tab">
      <p>
        You should answer at least three questions.<br/><br/>
        Over the last 2 weeks, how often have you been bothered by any of the following problems?<br/><br/>
        1. Little interest or pleasure in doing things <br/>
          <input type="radio" id="LA6568-5" name="LL358-3" value="0"> Not at all (0)</input>
          <input type="radio" id="LA6569-3" name="LL358-3" value="1"> Several Days (1)</input>
          <input type="radio" id="LA6570-1" name="LL358-3" value="2"> More than half the days (2)</input>
          <input type="radio" id="LA6571-9" name="LL358-3" value="3"> Nearly every day (3)</input><br/><br/>
        2. Feeling down, depressed, or hopeless <br/>
          <input type="radio" id="LA6568-5" name="LL358-3" value="0"> Not at all (0)</input>
          <input type="radio" id="LA6569-3" name="LL358-3" value="1"> Several Days (1)</input>
          <input type="radio" id="LA6570-1" name="LL358-3" value="2"> More than half the days (2)</input>
          <input type="radio" id="LA6571-9" name="LL358-3" value="3"> Nearly every day (3)</input><br/><br/>
        3. Trouble falling or staying asleep, or sleeping too much <br/>
          <input type="radio" id="LA6568-5" name="LL358-3" value="0"> Not at all (0)</input>
          <input type="radio" id="LA6569-3" name="LL358-3" value="1"> Several Days (1)</input>
          <input type="radio" id="LA6570-1" name="LL358-3" value="2"> More than half the days (2)</input>
          <input type="radio" id="LA6571-9" name="LL358-3" value="3"> Nearly every day (3)</input><br/><br/>
        4. Feeling tired or having little energy <br/>
          <input type="radio" id="LA6568-5" name="LL358-3" value="0"> Not at all (0)</input>
          <input type="radio" id="LA6569-3" name="LL358-3" value="1"> Several Days (1)</input>
          <input type="radio" id="LA6570-1" name="LL358-3" value="2"> More than half the days (2)</input>
          <input type="radio" id="LA6571-9" name="LL358-3" value="3"> Nearly every day (3)</input><br/><br/>
        Total Score: 0
      </p>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-ordinalvalue-constraint-2" name="tab-ordinalvalue-constraint-group-2"></input>
    <label for="tab-ordinalvalue-constraint-2">JSON</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        {
          "resourceType": "Questionnaire",
          "contained": [
            {
              "compose": {
                "include": [
                  {
                    "concept": [
                      {
                        "code": "LA6568-5",
                        "display": "Not at all",
                        "extension": [
                          {
                            "url": "http://hl7.org/fhir/StructureDefinition/ordinalValue",
                            "valueDecimal": 0
                          }
                        ]
                      },
                      {
                        "code": "LA6569-3",
                        "display": "Several days",
                        "extension": [
                          {
                            "url": "http://hl7.org/fhir/StructureDefinition/ordinalValue",
                            "valueDecimal": 1
                          }
                        ]
                      },
                      {
                        "code": "Several days",
                        "display": "More than half the days",
                        "extension": [
                          {
                            "url": "http://hl7.org/fhir/StructureDefinition/ordinalValue",
                            "valueDecimal": 2
                          }
                        ]
                      },
                      {
                        "code": "LA6571-9",
                        "display": "Nearly every day",
                        "extension": [
                          {
                            "url": "http://hl7.org/fhir/StructureDefinition/ordinalValue",
                            "valueDecimal": 3
                          }
                        ]
                      }
                    ],
                    "system": "http://loinc.org"
                  }
                ]
              },
              "copyright": "This content from LOINC® is copyright © 1995 Regenstrief Institute, Inc. and the LOINC Committee, and available at no cost under the license at http://loinc.org/terms-of-use",
              "description": "The answer list for timing of harm assessment",
              "id": "LL358-3",
              "resourceType": "ValueSet",
              "status": "active",
              "title": "Timing of harm assessment [AHRQ]"
            }
          ],
          "item": [
            {
              "extension": [
                {
                  "extension": [
                    {
                      "url": "key",
                      "valueId": "contraint-1"
                    },
                    {
                      "url": "requirements",
                      "valueString": "At least three questions must be answered to have a meaningful total."
                    },
                    {
                      "url": "severity",
                      "valueCode": "warning"
                    },
                    {
                      "url": "expression",
                      "valueString": "%resource.repeat(item).where(linkId='4.3.b').item.where(answer.hasValue()).count() >= 3"
                    },
                    {
                      "url": "human",
                      "valueString": "You should answer at least three questions."
                    }
                  ],
                  "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-constraint"
                }
              ],
              "item": [
                {
                  "extension": [
                    {
                      "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-choiceOrientation",
                      "valueCode": "horizontal"
                    },
                    {
                      "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                      "valueCodeableConcept": {
                        "coding": [
                          {
                            "system": "http://hl7.org/fhir/questionnaire-item-control",
                            "code": "radio-button",
                            "display": "Radio Button"
                          }
                        ],
                        "text": "A control where choices are listed with a button beside them. The button can be toggled to select or de-select a given choice. Selecting one item deselects all others."
                      }
                    }
                  ],
                  "answerValueSet": "#LL358-3",
                  "linkId": "4.3.b.1",
                  "text": "1. Little interest or pleasure in doing things ",
                  "type": "choice"
                },
                {
                  "extension": [
                    {
                      "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-choiceOrientation",
                      "valueCode": "horizontal"
                    },
                    {
                      "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                      "valueCodeableConcept": {
                        "coding": [
                          {
                            "system": "http://hl7.org/fhir/questionnaire-item-control",
                            "code": "radio-button",
                            "display": "Radio Button"
                          }
                        ],
                        "text": "A control where choices are listed with a button beside them. The button can be toggled to select or de-select a given choice. Selecting one item deselects all others."
                      }
                    }
                  ],
                  "answerValueSet": "#LL358-3",
                  "linkId": "4.3.b.2",
                  "text": "2. Feeling down, depressed, or hopeless ",
                  "type": "choice"
                },
                {
                  "extension": [
                    {
                      "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-choiceOrientation",
                      "valueCode": "horizontal"
                    },
                    {
                      "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                      "valueCodeableConcept": {
                        "coding": [
                          {
                            "system": "http://hl7.org/fhir/questionnaire-item-control",
                            "code": "radio-button",
                            "display": "Radio Button"
                          }
                        ],
                        "text": "A control where choices are listed with a button beside them. The button can be toggled to select or de-select a given choice. Selecting one item deselects all others."
                      }
                    }
                  ],
                  "answerValueSet": "#LL358-3",
                  "linkId": "4.3.b.3",
                  "text": "3. Trouble falling or staying asleep, or sleeping too much ",
                  "type": "choice"
                },
                {
                  "extension": [
                    {
                      "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-choiceOrientation",
                      "valueCode": "horizontal"
                    },
                    {
                      "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                      "valueCodeableConcept": {
                        "coding": [
                          {
                            "system": "http://hl7.org/fhir/questionnaire-item-control",
                            "code": "radio-button",
                            "display": "Radio Button"
                          }
                        ],
                        "text": "A control where choices are listed with a button beside them. The button can be toggled to select or de-select a given choice. Selecting one item deselects all others."
                      }
                    }
                  ],
                  "answerValueSet": "#LL358-3",
                  "linkId": "4.3.b.4",
                  "text": "4. Feeling tired or having little energy ",
                  "type": "choice"
                },
                {
                  "extension": [
                    {
                      "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-calculatedExpression",
                      "valueExpression": {
                        "description": "Total score",
                        "expression": "%resource.repeat(item).where(linkId='4.3.b').item.answer.ordinalValue().aggregate($this + $total, 0)",
                        "language": "text/fhirpath"
                      }
                    }
                  ],
                  "linkId": "4.3.b.5",
                  "text": "Total Score:",
                  "type": "integer"
                }
              ],
              "linkId": "4.3.b",
              "text": "Over the last 2 weeks, how often have you been bothered by any of the following problems?",
              "type": "group"
            }
          ]
        }
      </textarea>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-ordinalvalue-constraint-3" name="tab-ordinalvalue-constraint-group-2"></input>
    <label for="tab-ordinalvalue-constraint-3">XML</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        <Questionnaire>
          <contained>
              <ValueSet>
                  <id value="LL358-3"/>
                  <title value="Timing of harm assessment [AHRQ]"/>
                  <status value="active"/>
                  <description value="The answer list for timing of harm assessment"/>
                  <copyright value="This content from LOINC® is copyright © 1995 Regenstrief Institute, Inc. and the LOINC Committee, and available at no cost under the license at http://loinc.org/terms-of-use"/>
                  <compose>
                      <include>
                          <system value="http://loinc.org"/>
                          <concept>
                              <extension url="http://hl7.org/fhir/StructureDefinition/ordinalValue">
                                  <valueDecimal value="0"/>
                              </extension>
                              <code value="LA6568-5"/>
                              <display value="Not at all"/>
                          </concept>
                          <concept>
                              <extension url="http://hl7.org/fhir/StructureDefinition/ordinalValue">
                                  <valueDecimal value="1"/>
                              </extension>
                              <code value="LA6569-3"/>
                              <display value="Several days"/>
                          </concept>
                          <concept>
                              <extension url="http://hl7.org/fhir/StructureDefinition/ordinalValue">
                                  <valueDecimal value="2"/>
                              </extension>
                              <code value="Several days"/>
                              <display value="More than half the days"/>
                          </concept>
                          <concept>
                              <extension url="http://hl7.org/fhir/StructureDefinition/ordinalValue">
                                  <valueDecimal value="3"/>
                              </extension>
                              <code value="LA6571-9"/>
                              <display value="Nearly every day"/>
                          </concept>
                      </include>
                  </compose>
              </ValueSet>
          </contained>
          <item>
            <extension url="http://hl7.org/fhir/StructureDefinition/questionnaire-constraint">
                <extension url="key">
                    <valueId value="contraint-1"/>
                </extension>
                <extension url="requirements">
                    <valueString value="At least three questions must be answered to have a meaningful total."/> 
                </extension>
                <extension url="severity">
                    <valueCode value="warning"/>
                </extension>
                <extension url="expression">
                    <valueString value="%resource.repeat(item).where(linkId='4.3.b').item.where(answer.hasValue()).count() >= 3"/>
                </extension>
                <extension url="human">
                    <valueString value="You should answer at least three questions."/>
                </extension>
            </extension>        
            <linkId value="4.3.b"/>
            <text value="Over the last 2 weeks, how often have you been bothered by any of the following problems?" />
            <type value="group"/>
            <item>
              <extension url="http://hl7.org/fhir/StructureDefinition/questionnaire-choiceOrientation">
                <valueCode value="horizontal"/>
              </extension>
              <extension url="http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl">
                <valueCodeableConcept>
                  <coding>
                    <system value="http://hl7.org/fhir/questionnaire-item-control"/>
                    <code value="radio-button"/>
                    <display value="Radio Button"/>
                  </coding>
                  <text value="A control where choices are listed with a button beside them. The button can be toggled to select or de-select a given choice. Selecting one item deselects all others."/>
                </valueCodeableConcept>
              </extension>
              <linkId value="4.3.b.1"/>
              <text value="1. Little interest or pleasure in doing things "/>
              <type value="choice"/>
              <answerValueSet value="#LL358-3"/>
            </item>
            <item>
              <extension url="http://hl7.org/fhir/StructureDefinition/questionnaire-choiceOrientation">
                <valueCode value="horizontal"/>
              </extension>
              <extension url="http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl">
                <valueCodeableConcept>
                  <coding>
                    <system value="http://hl7.org/fhir/questionnaire-item-control"/>
                    <code value="radio-button"/>
                    <display value="Radio Button"/>
                  </coding>
                  <text value="A control where choices are listed with a button beside them. The button can be toggled to select or de-select a given choice. Selecting one item deselects all others."/>
                </valueCodeableConcept>
              </extension>
              <linkId value="4.3.b.2"/>
              <text value="2. Feeling down, depressed, or hopeless "/>
              <type value="choice"/>
              <answerValueSet value="#LL358-3"/>
            </item>
            <item>
              <extension url="http://hl7.org/fhir/StructureDefinition/questionnaire-choiceOrientation">
                <valueCode value="horizontal"/>
              </extension>
              <extension url="http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl">
                <valueCodeableConcept>
                  <coding>
                    <system value="http://hl7.org/fhir/questionnaire-item-control"/>
                    <code value="radio-button"/>
                    <display value="Radio Button"/>
                  </coding>
                  <text value="A control where choices are listed with a button beside them. The button can be toggled to select or de-select a given choice. Selecting one item deselects all others."/>
                </valueCodeableConcept>
              </extension>
              <linkId value="4.3.b.3"/>
              <text value="3. Trouble falling or staying asleep, or sleeping too much "/>
              <type value="choice"/>
              <answerValueSet value="#LL358-3"/>
            </item>
            <item>
              <extension url="http://hl7.org/fhir/StructureDefinition/questionnaire-choiceOrientation">
                <valueCode value="horizontal"/>
              </extension>
              <extension url="http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl">
                <valueCodeableConcept>
                  <coding>
                    <system value="http://hl7.org/fhir/questionnaire-item-control"/>
                    <code value="radio-button"/>
                    <display value="Radio Button"/>
                  </coding>
                  <text value="A control where choices are listed with a button beside them. The button can be toggled to select or de-select a given choice. Selecting one item deselects all others."/>
                </valueCodeableConcept>
              </extension>
              <linkId value="4.3.b.4"/>
              <text value="4. Feeling tired or having little energy "/>
              <type value="choice"/>
              <answerValueSet value="#LL358-3"/>
            </item>        
            <item>
                <extension url="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-calculatedExpression">
                    <valueExpression>
                        <description value="Total score"/>
                        <language value="text/fhirpath"/>
                        <expression value="%resource.repeat(item).where(linkId='4.3.b').item.answer.ordinalValue().aggregate($this + $total, 0)"/> 
                    </valueExpression>
                </extension>            
                <linkId value="4.3.b.5"/>
                <text value="Total Score:"/>
                <type value="integer"/>
            </item>
          </item>
        </Questionnaire>
      </textarea>
    </div> 
  </div>
</div>

<a name="signatureRequired-usagemode"></a>
<h4>Using signatureRequired and usageMode</h4>
<p>Example of signature required.</p>
<div class="tabs">
  <div class="tab">
    <input type="radio" id="tab-signatureRequired-usagemode-1" name="tab-signatureRequired-usagemode-group-2" checked="true"></input>
    <label for="tab-signatureRequired-usagemode-1">Sample Question</label>
    <div class="content-in-tab">
      <p>Signature of Patient: [only show signature pad when capturing data]</p>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-signatureRequired-usagemode-2" name="tab-signatureRequired-usagemode-group-2"></input>
    <label for="tab-signatureRequired-usagemode-2">JSON</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        "item": [
          {
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-signatureRequired",
                "valueCodeableConcept": {
                  "coding": [
                    {
                      "system": "urn:iso-astm:E1762-95:2013",
                      "code": "1.2.840.10065.1.12.1.8",
                      "display": "Signature Witness Signature"
                    }
                  ],
                  "text": "the signature of a witness to any other signature."
                }
              },
              {
                "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-usageMode",
                "valueCode": "capture"
              }
            ],
            "linkId": "4.4.b",
            "text": "Signature of Patient",
            "type": "attachment",
            "required": true
          }
        ]
      </textarea>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-signatureRequired-usagemode-3" name="tab-signatureRequired-usagemode-group-2"></input>
    <label for="tab-signatureRequired-usagemode-3">XML</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        <item>
            <extension url="http://hl7.org/fhir/StructureDefinition/questionnaire-signatureRequired">
                <valueCodeableConcept>
                    <coding>
                        <system value="urn:iso-astm:E1762-95:2013"/>
                        <code value="1.2.840.10065.1.12.1.8"/>
                        <display value="Signature Witness Signature"/>
                    </coding>
                    <text value="the signature of a witness to any other signature."/>
                </valueCodeableConcept>
            </extension>
            <extension url="http://hl7.org/fhir/StructureDefinition/questionnaire-usageMode">
                <valueCode value="capture"/>
            </extension>
            <linkId value="4.4.b"/>
            <text value="Signature of Patient"/>
            <type value="attachment"/>
            <required value="true"/>
        </item>
      </textarea>
    </div> 
  </div>
</div>

<a name="endpoint"></a>
<h4>Using endpoint</h4>
<p>To set an endpoint URL for the Form Receiver when the Questionnaire is completed.</p>
<div class="tabs">
  <div class="tab">
    <input type="radio" id="tab-endpoint-1" name="tab-endpoint-group-2" checked="true"></input>
    <label for="tab-endpoint-1">Sample Question</label>
    <div class="content-in-tab">
      <p>[Not applicable to a question item - this extension is part of a base Questionnaire's metadata]</p>
    </div>
  </div>
  <div class="tab">
    <input type="radio" id="tab-endpoint-2" name="tab-endpoint-group-2"></input>
    <label for="tab-endpoint-2">JSON</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        {
          "resourceType": "Questionnaire",
          ...
          "extension": [
            {
              "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-endpoint",
              "valueUri": "http://mysite.app/QuestionnaireResponse/create"
            }
          ]
          ...  
        }
      </textarea>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-endpoint-3" name="tab-endpoint-group-2"></input>
    <label for="tab-endpoint-3">XML</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        <Questionnaire>
          ...
          <extension url="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-endpoint">
              <valueUri value="http://mysite.app/QuestionnaireResponse/create"/>
          </extension>
          ...
        </Questionnaire>
      </textarea>
    </div> 
  </div>
</div>

<a name="entrymode"></a>
<h4>Using entryMode</h4>
<p>To display questions one at a time.</p>
<div class="tabs">
  <div class="tab">
    <input type="radio" id="tab-entrymode-1" name="tab-entrymode-group-2" checked="true"></input>
    <label for="tab-entrymode-1">Sample Question</label>
    <div class="content-in-tab">
      <p>[Not applicable to a question item - this extension is part of a base Questionnaire's metadata]</p>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-entrymode-2" name="tab-entrymode-group-2"></input>
    <label for="tab-entrymode-2">JSON</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        {
          "resourceType": "Questionnaire",
          ...
          "extension": [
            {
              "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-entryMode",
              "valueCode": "sequential"
            }
          ]
          ...  
        }
      </textarea>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-entrymode-3" name="tab-entrymode-group-2"></input>
    <label for="tab-entrymode-3">XML</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        <Questionnaire>
          ...
          <extension url="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-entryMode">
            <valueCode value="sequential"/>
          </extension>
          ...
        </Questionnaire>
      </textarea>
    </div> 
  </div>
</div>

<a name="candidateExpression"></a>
<h4>Using candidateExpression</h4>
<p>To provide a list of candidate answers for the question item.</p>
<div class="tabs">
  <div class="tab">
    <input type="radio" id="tab-candidateExpression-1" name="tab-candidateExpression-group-2" checked="true"></input>
    <label for="tab-candidateExpression-1">Sample Question</label>
    <div class="content-in-tab">
      <p>
       All the practitioners below can speak your language. Choose all preferred practioners:<br/>
         <table width="300" border="1" cellpadding="5" style="text-align: left">
            <tr>
               <th width="10%" align="center"></th> 
               <th width="35%">
                  <strong>Last Name</strong>
               </th> 
               <th width="35%">First Name</th> 
               <th width="20%">Gender</th>
            </tr>
            <tr>
               <td align="center"><input id="practitioner-grp" type="checkbox" name="practitioner-grp" value="practitioner1"/></td>
               <td>Smith</td> 
               <td>John</td> 
               <td>Male</td> 
            </tr>
            <tr> 
               <td align="center"><input id="practitioner-grp" type="checkbox" name="practitioner-grp" value="practitioner2"/></td>
               <td>Moseley</td> 
               <td>Henry</td> 
               <td>Male</td> 
            </tr>
            <tr> 
               <td align="center"><input id="practitioner-grp" type="checkbox" name="practitioner-grp" value="practitioner3"/></td>
               <td>Upton</td> 
               <td>Isaac</td> 
               <td>Male</td> 
            </tr>
            <tr> 
               <td align="center"><input id="practitioner-grp" type="checkbox" name="practitioner-grp" value="practitioner4"/></td>
               <td>Williams</td> 
               <td>Amy</td> 
               <td>Female</td> 
            </tr>
         </table>
      </p>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-candidateExpression-2" name="tab-candidateExpression-group-2"></input>
    <label for="tab-candidateExpression-2">JSON</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
      "item": [
        {
          "extension": [
            {        
              "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-candidateExpression",
              "valueExpression": {
                "description": "active practitioners that speak at least one of the patient's language",
                "language": "application/x-fhir-query",
                "expression": "Practitioner?communication={{%LaunchPatient.communication.language}}&amp;active=true"
              }
            },
            {
              "extension": [
                {
                  "url": "path",
                  "valueString": "name.first().family"
                },
                {
                  "url": "label",
                  "valueString": "LAST NAME"
                },
                {
                  "url": "width",
                  "valueQuantity": {
                    "value": 40,
                    "system": "http://unitsofmeasure.org",
                    "code": "%"
                  }
                },
                {
                  "url": "forDisplay",
                  "valueBoolean": true
                }
              ],
              "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-choiceColumn"
            },
            {
              "extension": [
                {
                  "url": "path",
                  "valueString": "name.first().given.first()"
                },
                {
                  "url": "label",
                  "valueString": "FIRST NAME"
                },
                {
                  "url": "width",
                  "valueQuantity": {
                    "value": 40,
                    "system": "http://unitsofmeasure.org",
                    "code": "%"
                  }
                },
                {
                  "url": "forDisplay",
                  "valueBoolean": true
                }
              ],
              "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-choiceColumn"
            },
            {
              "extension": [
                {
                  "url": "path",
                  "valueString": "gender"
                },
                {
                  "url": "label",
                  "valueString": "GENDER"
                },
                {
                  "url": "width",
                  "valueQuantity": {
                    "value": 20,
                    "system": "http://unitsofmeasure.org",
                    "code": "%"
                  }
                },
                {
                  "url": "forDisplay",
                  "valueBoolean": false
                }
              ],
              "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-choiceColumn"
            }
          ],
          "linkId": "6.1",
          "text": "All the practitioners below can speak the patient's language. Choose all preferred practioners:",
          "type": "reference",
          "repeats": true
        }
      ]
     </textarea>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-candidateExpression-3" name="tab-candidateExpression-group-2"></input>
    <label for="tab-candidateExpression-3">XML</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        <item>
          <extension url="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-candidateExpression">
            <valueExpression>
              <description value="active practitioners that speak at least one of the patient's language"/>
              <language value="application/x-fhir-query"/>
              <expression value="Practitioner?communication={{%LaunchPatient.communication.language}}&amp;active=true"/>
            </valueExpression>
          </extension>
          <extension url="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-choiceColumn">
            <extension url="path">
            <valueString value="name.first().family"/>
            </extension>
            <extension url="label">
              <valueString value="LAST NAME"/>
            </extension>
            <extension url="width">
              <valueQuantity>
                <value value="40"/>
                <system value="http://unitsofmeasure.org"/>
                <code value="%"/>
              </valueQuantity>
            </extension>
            <extension url="forDisplay">
              <valueBoolean value="true"/>
            </extension>
          </extension>
          <extension url="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-choiceColumn">
            <extension url="path">
              <valueString value="name.first().given.first()"/>
            </extension>
            <extension url="label">
              <valueString value="FIRST NAME"/>
            </extension>
            <extension url="width">
              <valueQuantity>
                <value value="40"/>
                <system value="http://unitsofmeasure.org"/>
                <code value="%"/>
              </valueQuantity>
            </extension>
            <extension url="forDisplay">
              <valueBoolean value="true"/>
            </extension>
          </extension>
          <extension url="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-choiceColumn">
            <extension url="path">
              <valueString value="gender"/>
            </extension>
            <extension url="label">
              <valueString value="GENDER"/>
            </extension>
            <extension url="width">
              <valueQuantity>
                <value value="20"/>
                <system value="http://unitsofmeasure.org"/>
                <code value="%"/>
              </valueQuantity>
            </extension>
            <extension url="forDisplay">
              <valueBoolean value="false"/>
            </extension>
          </extension>
          <linkId value="6.1"/>
          <text value="All the practitioners below can speak the patient's language. Choose all preferred practioners:"/>
          <type value="reference"/>
          <repeats value="true"/>
        </item>
      </textarea>
    </div> 
  </div>
</div>
<!-- TODO: specify the control to use -->

<a name="contextExpression"></a>
<h4>Using contextExpression</h4>
<p>To indicate the resources to make available for display to the user to aid in answering the question.</p>
<div class="tabs">
  <div class="tab">
    <input type="radio" id="tab-contextExpression-1" name="tab-contextExpression-group-2" checked="true"></input>
    <label for="tab-contextExpression-1">Sample Question</label>
    <div class="content-in-tab">
      <p>
        <i>Instruction: Click on "Review Previous Visits" button to view all the visits of this patient in the past year.</i><br/><br/>
        Has the patient discussed this issue on any visits in the past year? <button id="myBtn">Review Previous Visits</button><br/>
        <input id="linkitem-1.7-f" type="radio" name="Gender" value="F"/> Yes&#xA0;<br/>
        <input id="linkitem-1.7-m" type="radio" name="Gender" value="M"/> No&#xA0;<br/>
        <input id="linkitem-1.7-o" type="radio" name="Gender" value="O"/> Don't know&#xA0;
      </p>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-contextExpression-2" name="tab-contextExpression-group-2"></input>
    <label for="tab-contextExpression-2">JSON</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
      {
        "resourceType": "Questionnaire",
        "extension": [
          {
            "extension": [
              {
                "url": "name",
                "valueId": "LaunchPatient"
              },
              {
                "url": "type",
                "valueCode": "Patient"
              },
              {
                "url": "description",
                "valueString": "The patient that is to be used to pre-populate the form"
              }
            ],
            "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-launchContext"
          }
        ],
        "item": [
          {
            "_linkId": {
              "id": "1.0"
            },
            "type": "group",
            "item": [
              {
                "extension": [
                  {
                    "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-displayCategory",
                    "valueCodeableConcept": {
                      "coding": [
                        {
                          "system": "http://hl7.org/fhir/questionnaire-display-category",
                          "code": "instructions",
                          "display": "Instructions"
                        }
                      ],
                      "text": "The text provides guidance on how to populate or use a portion of the questionnaire"
                    }
                  }
                ],
                "linkId": "1.1",
                "text": "Instruction: Click on \"Previous Visits\" button to view all the visits of this patient in the past year.",
                "type": "display"
              },
              {
                "extension": [
                  {
                    "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-contextExpression",
                    "valueExpression": {
                      "description": "list all Encounters with patient in the past year, in order by date - newest to oldest",
                      "language": "application/x-fhir-query",
                      "expression": "Encounter?patient={{%LaunchPatient.id}}&amp;date=ge{{today()-1 year}}&amp;_sort=-date"
                    }
                  },
                  {
                    "extension": [
                      {
                        "url": "path",
                        "valueString": "period.start"
                      },
                      {
                        "url": "label",
                        "valueString": "Date"
                      },
                      {
                        "url": "width",
                        "valueQuantity": {
                          "value": 40,
                          "system": "http://unitsofmeasure.org",
                          "code": "%"
                        }
                      },
                      {
                        "url": "forDisplay",
                        "valueBoolean": true
                      }
                    ],
                    "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-choiceColumn"
                  },
                  {
                    "extension": [
                      {
                        "url": "path",
                        "valueString": "reason.coding.display + ' - ' + type.text"
                      },
                      {
                        "url": "label",
                        "valueString": "Visit Reason/Description"
                      },
                      {
                        "url": "width",
                        "valueQuantity": {
                          "value": 60,
                          "system": "http://unitsofmeasure.org",
                          "code": "%"
                        }
                      },
                      {
                        "url": "forDisplay",
                        "valueBoolean": false
                      }
                    ],
                    "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-choiceColumn"
                  },
                  {
                    "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                    "valueCodeableConcept": {
                      "coding": [
                        {
                          "system": "http://hl7.org/fhir/questionnaire-item-control",
                          "code": "radio-button",
                          "display": "Radio Button"
                        }
                      ],
                      "text": "A control where choices are listed with a button beside them. The button can be toggled to select or de-select a given choice. Selecting one item deselects all others."
                    }
                  }
                ],
                "_linkId": {
                  "id": "1.2"
                },
                "text": "Has the patient discussed this issue on any visits in the past year?",
                "type": "choice",
                "answerValueSet": "http://hl7.org/fhir/ValueSet/yesnodontknow"
              }
            ]
          }
        ]
      }
     </textarea>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-contextExpression-3" name="tab-contextExpression-group-2"></input>
    <label for="tab-contextExpression-3">XML</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        <Questionnaire>
          <id value="questionnaire-context-expression-example"/>
          <extension url="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-launchContext">
            <extension url="name">
              <valueId value="LaunchPatient"/>
            </extension>
            <extension url="type">
              <valueCode value="Patient"/>
            </extension>
            <extension url="description">
              <valueString value="The patient that is to be used to pre-populate the form"/>
            </extension>
          </extension> 
          <status value="draft"/>
          <item>
            <linkId id="1.0"/>
            <type value="group"/>
            <item>
              <extension url="http://hl7.org/fhir/StructureDefinition/questionnaire-displayCategory">
                <valueCodeableConcept>
                  <coding>
                    <system value="http://hl7.org/fhir/questionnaire-display-category" />
                    <code value="instructions" />
                    <display value="Instructions" />
                  </coding>
                  <text value="The text provides guidance on how to populate or use a portion of the questionnaire" />
                </valueCodeableConcept>
              </extension>
              <linkId value="1.1"/>
              <text value="Instruction: Click on &quot;Previous Visits&quot; button to view all the visits of this patient in the past year."/>
              <type value="display"/>
            </item>
            <item>
              <extension url="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-contextExpression">
                <valueExpression>
                  <description value="list all Encounters with patient in the past year, in order by date - newest to oldest"/>
                  <language value="application/x-fhir-query"/>
                  <expression value="Encounter?patient={{%LaunchPatient.id}}&amp;date=ge{{today()-1 year}}&amp;_sort=-date&amp;_include=Encounter:practitioner"/>
                </valueExpression>
              </extension>
              <extension url="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-choiceColumn">
                <extension url="path">
                <valueString value="period.start"/>
                </extension>
                <extension url="label">
                  <valueString value="Date"/>
                </extension>
                <extension url="width">
                  <valueQuantity>
                    <value value="40"/>
                    <system value="http://unitsofmeasure.org"/>
                    <code value="%"/>
                  </valueQuantity>
                </extension>
                <extension url="forDisplay">
                  <valueBoolean value="true"/>
                </extension>
              </extension>
              <extension url="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-choiceColumn">
                <extension url="path">
                  <valueString value="reason.coding.display + ' - ' + type.text"/>
                </extension>
                <extension url="label">
                  <valueString value="Visit Reason/Description"/>
                </extension>
                <extension url="width">
                  <valueQuantity>
                    <value value="60"/>
                    <system value="http://unitsofmeasure.org"/>
                    <code value="%"/>
                  </valueQuantity>
                </extension>
                <extension url="forDisplay">
                  <valueBoolean value="false"/>
                </extension>
              </extension>
              <extension url="http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl">
                <valueCodeableConcept>
                  <coding>
                    <system value="http://hl7.org/fhir/questionnaire-item-control"/>
                    <code value="radio-button"/>
                    <display value="Radio Button"/>
                  </coding>
                  <text value="A control where choices are listed with a button beside them. The button can be toggled to select or de-select a given choice. Selecting one item deselects all others."/>
                </valueCodeableConcept>
              </extension>
              <linkId id="1.2"/>
              <text value="Has the patient discussed this issue on any visits in the past year?"/>
              <type value="choice"/>
              <answerValueSet value="http://hl7.org/fhir/ValueSet/yesnodontknow"/>
            </item>
          </item>
        </Questionnaire>
      </textarea>
    </div> 
  </div>
</div>
<!--  TODO: how to specify text for the button or link? -->
<!--  TODO: where to put this extension for displaying list as an htable? -->
<!--  TODO: how to format dateTime: 2016-06-18T16:22:45-04:00  -->

<a name="itemContext"></a>
<h4>Using itemContext</h4>
<p>To specify the resources to populate a questionnaire.</p>
<div class="tabs">
  <div class="tab">
    <input type="radio" id="tab-itemContext-1" name="tab-itemContext-group-2" checked="true"></input>
    <label for="tab-itemContext-1">Sample Question</label>
    <div class="content-in-tab">
      <p>Home Address<br/>
        Address: <input id="linkitem-1.1-input" type="text" size="50" value="1900 Broadway Avenue"/><br/>
        City: <input id="linkitem-1.2-input" type="text" size="25" value="Vancouver"/><br/>
        Province: 
          <select id="linkitem-1.3-option" name="province">
            <option value="Alberta">Alberta</option>
            <option value="BC">British Columbia</option>
            <option value="Manitoba">Manitoba</option>
            <option value="NewBrunswick">New Brunswick</option>
            <option value="NewfoundlandAndLabrador">Newfoundland and Labrador</option>
            <option value="NovaScotia">Nova Scotia</option>  
            <option value="Ontario">Ontario</option>
            <option value="PrinceEdwardIsland">Prince Edward Island</option>
            <option value="Quebec">Quebec</option>
            <option value="Saskatchewan">Saskatchewan</option>
          </select><br/>
        Postal Code: <input id="linkitem-1.4-input" type="text" size="10" value="V5N 2E7"/>
      </p>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-itemContext-2" name="tab-itemContext-group-2"></input>
    <label for="tab-itemContext-2">JSON</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        {
          "resourceType": "Questionnaire",
          "extension": [
            {
              "extension": [
                {
                  "url": "name",
                  "valueId": "LaunchPatient"
                },
                {
                  "url": "type",
                  "valueCode": "Patient"
                },
                {
                  "url": "description",
                  "valueString": "The patient that is to be used to pre-populate the form"
                }
              ],
              "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-launchContext"
            }
          ],
          "item": [
            {
              "extension": [
                {
                  "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemContext",
                  "valueExpression": {
                    "description": "Home address of the patient",
                    "language": "text/fhirpath",
                    "expression": "%LaunchPatient.address.where(use='home')[0]"
                  }
                }
              ],
              "_linkId": {
                "id": "2.0"
              },
              "type": "group",
              "item": [
                {
                  "linkId": "1.1",
                  "text": "Home Address",
                  "type": "display"
                },
                {
                  "extension": [
                    {
                      "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression",
                      "valueExpression": {
                        "description": "Address Line 1",
                        "language": "text/fhirpath",
                        "expression": "line[0]"
                      }
                    }
                  ],
                  "_linkId": {
                    "id": "1.2"
                  },
                  "text": "Address",
                  "type": "string"
                },
                {
                  "extension": [
                    {
                      "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression",
                      "valueExpression": {
                        "description": "City",
                        "language": "text/fhirpath",
                        "expression": "city"
                      }
                    }
                  ],
                  "_linkId": {
                    "id": "1.3"
                  },
                  "text": "City",
                  "type": "string"
                },
                {
                  "extension": [
                    {
                      "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression",
                      "valueExpression": {
                        "description": "State",
                        "language": "text/fhirpath",
                        "expression": "state"
                      }
                    }
                  ],
                  "_linkId": {
                    "id": "1.4"
                  },
                  "text": "Province",
                  "type": "choice",
                  "answerOption": [
                    {
                      "valueCoding": {
                        "code": "Alberta",
                        "display": "Alberta"
                      }
                    },
                    {
                      "valueCoding": {
                        "code": "BritishColumbia",
                        "display": "British Columbia"
                      }
                    },
                    {
                      "valueCoding": {
                        "code": "Manitoba",
                        "display": "Manitoba"
                      }
                    },
                    {
                      "valueCoding": {
                        "code": "NewBrunswick",
                        "display": "New Brunswick"
                      }
                    },
                    {
                      "valueCoding": {
                        "code": "NewfoundlandAndLabrador",
                        "display": "Newfoundland and Labrador"
                      }
                    },
                    {
                      "valueCoding": {
                        "code": "NovaScotia",
                        "display": "Nova Scotia"
                      }
                    },
                    {
                      "valueCoding": {
                        "code": "Ontario",
                        "display": "Ontario"
                      }
                    },
                    {
                      "valueCoding": {
                        "code": "PrinceEdwardIsland",
                        "display": "Prince Edward Island"
                      }
                    },
                    {
                      "valueCoding": {
                        "code": "Quebec",
                        "display": "Quebec"
                      }
                    },
                    {
                      "valueCoding": {
                        "code": "Saskatchewan",
                        "display": "Saskatchewan"
                      }
                    }
                  ]
                },
                {
                  "extension": [
                    {
                      "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression",
                      "valueExpression": {
                        "description": "Postal Code",
                        "language": "text/fhirpath",
                        "expression": "postalCode"
                      }
                    }
                  ],
                  "_linkId": {
                    "id": "1.5"
                  },
                  "text": "Postal Code",
                  "type": "string"
                }
              ]
            }
          ]
        }
     </textarea>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-itemContext-3" name="tab-itemContext-group-2"></input>
    <label for="tab-itemContext-3">XML</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        <extension url="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-launchContext">
          <extension url="name">
            <valueId value="LaunchPatient"/>
          </extension>
          <extension url="type">
            <valueCode value="Patient"/>
          </extension>
          <extension url="description">
            <valueString value="The patient that is to be used to pre-populate the form"/>
          </extension>
        </extension>
        <item>
          <extension url="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemContext">
            <valueExpression>
              <description value="Home address of the patient"/>
                <language value="text/fhirpath"/>
                <expression value="%LaunchPatient.address.where(use='home')[0]"/>
            </valueExpression>
          </extension>
          <linkId id="2.0"/>
          <type value="group"/>
          <item>
            <linkId value="1.1"/>
            <text value="Home Address"/>
            <type value="display"/>
          </item>
          <item>
            <extension url="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression">
                <valueExpression>
                    <description value="Address Line 1"/>
                    <language value="text/fhirpath"/>
                    <expression value="line[0]"/> 
                </valueExpression>
            </extension>
            <linkId id="1.2"/>
            <text value="Address"/>
            <type value="string"/>
          </item>
          <item>
            <extension url="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression">
                <valueExpression>
                    <description value="City"/>
                    <language value="text/fhirpath"/>
                    <expression value="city"/> 
                </valueExpression>
            </extension>
            <linkId id="1.3"/>
            <text value="City"/>
            <type value="string"/>
          </item>
          <item>
            <extension url="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression">
                <valueExpression>
                    <description value="State"/>
                    <language value="text/fhirpath"/>
                    <expression value="state"/> 
                </valueExpression>
            </extension>
            <linkId id="1.4"/>
            <text value="Province"/>
            <type value="choice"/>
            <answerOption>
                <valueCoding>
                    <code value="Alberta"/>
                    <display value="Alberta"/>
                </valueCoding>
            </answerOption>
            <answerOption>
                <valueCoding>
                    <code value="BritishColumbia"/>
                    <display value="British Columbia"/>
                </valueCoding>
            </answerOption>
            <answerOption>
                <valueCoding>
                    <code value="Manitoba"/>
                    <display value="Manitoba"/>
                </valueCoding>
            </answerOption>
            <answerOption>
                <valueCoding>
                    <code value="NewBrunswick"/>
                    <display value="New Brunswick"/>
                </valueCoding>
            </answerOption>
            <answerOption>
                <valueCoding>
                    <code value="NewfoundlandAndLabrador"/>
                    <display value="Newfoundland and Labrador"/>
                </valueCoding>
            </answerOption>
            <answerOption>
                <valueCoding>
                    <code value="NovaScotia"/>
                    <display value="Nova Scotia"/>
                </valueCoding>
            </answerOption>
            <answerOption>
                <valueCoding>
                    <code value="Ontario"/>
                    <display value="Ontario"/>
                </valueCoding>
            </answerOption>
            <answerOption>
                <valueCoding>
                    <code value="PrinceEdwardIsland"/>
                    <display value="Prince Edward Island"/>
                </valueCoding>
            </answerOption>
            <answerOption>
                <valueCoding>
                    <code value="Quebec"/>
                    <display value="Quebec"/>
                </valueCoding>
            </answerOption>
            <answerOption>
                <valueCoding>
                    <code value="Saskatchewan"/>
                    <display value="Saskatchewan"/>
                </valueCoding>
            </answerOption>
          </item>
          <item>
            <extension url="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression">
                <valueExpression>
                    <description value="Postal Code"/>
                    <language value="text/fhirpath"/>
                    <expression value="postalCode"/> 
                </valueExpression>
            </extension>
            <linkId id="1.5"/>
            <text value="Postal Code"/>
            <type value="string"/>
          </item>
        </item>
      </textarea>
    </div> 
  </div>
</div>

<!-- template
<a name="changeme"></a>
<h4>Using changeme</h4>
<p>Write description here.</p>
<div class="tabs">
  <div class="tab">
    <input type="radio" id="tab-changeme-1" name="tab-changeme-group-2" checked="true"></input>
    <label for="tab-changeme-1">Sample Question</label>
    <div class="content-in-tab">
      <p>TODO: html</p>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-changeme-2" name="tab-changeme-group-2"></input>
    <label for="tab-changeme-2">JSON</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        "item": [
          TODO: json
        ]
     </textarea>
    </div> 
  </div>
  <div class="tab">
    <input type="radio" id="tab-changeme-3" name="tab-changeme-group-2"></input>
    <label for="tab-changeme-3">XML</label>
    <div class="content-in-tab">
      <textarea style="border:none" class="xml">
        TODO: xml
      </textarea>
    </div> 
  </div>
</div>
-->

  <!-- The Modal -->
  <div id="myModal" class="modal">

    <!-- Modal content -->
    <div class="modal-content">
    <span class="close">x</span>
    <table width="100%" border="1" cellpadding="5" style="text-align: left">
      <tr>
        <th width="40%"><strong>Date</strong></th> 
        <th width="60%">Visit Reason - Details</th> 
      </tr>
      <tr> 
        <td>May 1, 2020</td> <!--TODO: add a formatter -->
        <td>Acute bronchitis (disorder) - Encounter for check up (procedure)</td> 
      </tr>
      <tr> 
        <td>Apr 1, 2020</td> <!--TODO: add a formatter -->
        <td>Hyperlipidemia - Follow-up encounter</td> 
      </tr>
      <tr> 
        <td>Feb 15, 2020</td> <!--TODO: add a formatter -->
        <td>Overlapping malignant neoplasm of colon - Follow-up encounter</td> 
      </tr>
      <tr> 
        <td>Feb 1, 2020</td> <!--TODO: add a formatter -->
        <td>Overlapping malignant neoplasm of colon - Encounter for problem</td> 
      </tr>   
    </table>
    </div>

  </div>

  <script>
  var modal = document.getElementById("myModal");
  var btn = document.getElementById("myBtn");
  var span = document.getElementsByClassName("close")[0];
  btn.onclick = function() {
    modal.style.display = "block";
  }
  span.onclick = function() {
    modal.style.display = "none";
  }
  window.onclick = function(event) {
    if (event.target == modal) {
    modal.style.display = "none";
    }
  }
  </script>
</div>
